!function(){var e,t=("undefined"!=typeof globalThis?globalThis:"undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:{}).parcelRequire01a7,o=t("5rLfZ"),a=(e=o())&&e.__esModule?e.default:e,n=t("6GgW6"),i=t("7fPRq");o(),n();var r=[{firstObjectSize:89,objectsCount:16,duplicateFactor:.4,duplicateMethod:"sum",autorotate:!0,autorotateSpeed:5,revertInnerRotate:!1,innerRotateSpeed:10,mouseRotatePower:28,mouseRotateInertia:1e3,mouseMagnetic:1,centerX:.7,centerY:.32,perspective:1e3,size:1.2,framesOverlay:0,gradCenter:{x:.37,y:.37},gradRadius:.6,gradMiddlePoint:.7,gradColor1:{r:191.25,g:127.5,b:255},gradColor2:{r:91.8,g:200.6,b:255},gradColor3:{r:153,g:255,b:153},gradPreview:!1,preset:0}];i();let s=[];class d{constructor(e,t){this.draw=e=>{this.sum=this.point0.X+this.point0.Y+this.point1.X+this.point1.Y,-1===s.indexOf(this.sum)?(s.push(this.sum),e.globalAlpha=1):e.globalAlpha=0,e.beginPath(),e.moveTo(this.point0.X,this.point0.Y),e.lineTo(this.point1.X,this.point1.Y),e.closePath(),e.stroke()},this.point0=e,this.point1=t,this.sum=e.X+e.Y+t.X+t.Y}static eraseAll(){s=[]}}let u={firstObjectSize:100,objectsCount:12,bgLight:!0,duplicateMethod:"sum",duplicateFactor:.4,framesOverlay:0,perspective:1500,autorotate:!0,autorotateSpeed:25,innerRotateSpeed:15,revertInnerRotate:!1,mouseRotateInertia:200,mouseMagnetic:30,zoom:1,size:1.2,centerX:.5,centerY:.5,...n().gradParams},l=Object.assign({},u);window.pane=new a({container:document.querySelector("[data-pane]")});let p,c,m,f,h,g,b,v,I,w=pane.addFolder({title:"Настройки",expanded:!1});w.addInput(l,"firstObjectSize",{min:1,max:200,step:1}),w.addInput(l,"objectsCount",{min:1,max:50,step:1}),w.addInput(l,"duplicateFactor",{min:.01,max:3,step:.001}),w.addInput(l,"duplicateMethod",{options:["sum","multiply"].reduce((function(e,t){return e[t]=t,e}),{})}),w.addInput(l,"autorotate"),w.addInput(l,"autorotateSpeed",{min:0,max:100,step:1}),w.addInput(l,"revertInnerRotate"),w.addInput(l,"innerRotateSpeed",{min:0,max:100,step:1}),w.addInput(l,"mouseRotateInertia",{min:1,max:1e3,step:1}),w.addInput(l,"mouseMagnetic",{min:1,max:100,step:1}),w.addInput(l,"centerX",{min:0,max:1,step:.01}),w.addInput(l,"centerY",{min:0,max:1,step:.01}),w.addInput(l,"perspective",{min:0,max:3e3,step:1}),w.addInput(l,"size",{min:.1,max:4,step:.1}),w.addInput(l,"framesOverlay",{min:0,max:1,step:.01}),w.addSeparator(),n().createGradControls(w,l),w.addInput({preset:0},"preset",{options:r.reduce(((e,t,o)=>(e["preset "+(o+1)]=o,e)),{})}),r.length&&(Object.assign(l,u,r[0]),pane.refresh()),w.addButton({title:"Copy preset"}).on("click",(()=>navigator.clipboard.writeText(i().default(pane.exportPreset())))),document.querySelector(".box").addEventListener("click",(()=>w.expanded=!1));let x,S,R,y=0,X=0,Y=50,C=50,j=0,z=0,M=0,O=0,P=0,q=0,F=function(){v=p.offsetWidth,I=p.offsetHeight;let e=p;for(g=0,b=0;null!=e;e=e.offsetParent)g+=e.offsetLeft,b+=e.offsetTop;c.width=v,c.height=I};function T(){f=[],h=[];let e=l.firstObjectSize;for(let t=0;t<l.objectsCount;t++)f.push(new Tetra(e,t)),"sum"===l.duplicateMethod?e+=l.duplicateFactor*l.firstObjectSize:"multiply"===l.duplicateMethod&&(e*=l.duplicateFactor)}let A=function(){if(d.eraseAll(),l.gradPreview)m.fillStyle=R,m.fillRect(0,0,c.width,c.height);else{m.fillStyle=`rgba(255, 255, 255, ${1-l.framesOverlay})`,m.fillRect(0,0,v,I),m.strokeStyle=R,S=0;let e,t=0;for(;e=f[t++];){P+=(C-P)/l.mouseRotateInertia,O+=(Y-O)/l.mouseRotateInertia,q+=(j-q)/l.mouseRotateInertia;let o=l.revertInnerRotate?l.objectsCount-t+1:t+1;o*=l.innerRotateSpeed/1e5,e.rotate(P*o,O*o,q*o),e.projection()}l.autorotate&&(j+=l.autorotateSpeed/10);let o,a=0;for(;o=h[a++];)o.draw(m)}requestAnimationFrame(A)},L=()=>R=n().getActualGradient(c,l),k=()=>l.zoom=l.perspective*l.size;window.pane.on("change",(e=>{k(),T(),L()})),p=document.querySelector(".box"),c=document.querySelector("[data-canvas]"),m=c.getContext("2d"),p.ontouchstart=p.onmousedown=function(e){e.target===c&&(e.preventDefault(),p.setCapture&&p.setCapture(),x=!1,z=(void 0!==e.clientX?e.clientX:e.touches[0].clientX)-g,M=(void 0!==e.clientY?e.clientY:e.touches[0].clientY)-b)},p.ontouchmove=p.onmousemove=function(e){e.preventDefault(),y=(void 0!==e.clientX?e.clientX:e.touches[0].clientX)-g,X=(void 0!==e.clientY?e.clientY:e.touches[0].clientY)-b,Y=y-z+0,C=0-(X-M),(Math.abs(y-z)>10||Math.abs(X-M)>10)&&(x=!0)},p.onmousewheel=function(e){return j+=e.wheelDelta,!1},F(),window.addEventListener("resize",F,!1),T(),L(),A(),k(),window.params=l}();
//# sourceMappingURL=sphere.c4da6448.js.map
