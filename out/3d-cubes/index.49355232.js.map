{"mappings":"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","sources":["./node_modules/@parcel/scope-hoisting/lib/helpers.js","./node_modules/@parcel/scope-hoisting/lib/prelude.js","./node_modules/tweakpane/dist/tweakpane.js","./3d-cubes/modules/gradient.js","./common/utils/getPreset.js"],"sourcesContent":["var $parcel$global =\n  typeof globalThis !== 'undefined'\n    ? globalThis\n    : typeof self !== 'undefined'\n    ? self\n    : typeof window !== 'undefined'\n    ? window\n    : typeof global !== 'undefined'\n    ? global\n    : {};\n\nfunction $parcel$interopDefault(a) {\n  return a && a.__esModule ? a.default : a;\n}\n\nfunction $parcel$defineInteropFlag(a) {\n  Object.defineProperty(a, '__esModule', {value: true});\n}\n\nfunction $parcel$export(e, n, v) {\n  Object.defineProperty(e, n, {get: v, enumerable: true});\n}\n\nfunction $parcel$exportWildcard(dest, source) {\n  Object.keys(source).forEach(function(key) {\n    if (key === 'default' || key === '__esModule') {\n      return;\n    }\n\n    Object.defineProperty(dest, key, {\n      enumerable: true,\n      get: function get() {\n        return source[key];\n      },\n    });\n  });\n\n  return dest;\n}\n\nfunction $parcel$missingModule(name) {\n  var err = new Error(\"Cannot find module '\" + name + \"'\");\n  err.code = 'MODULE_NOT_FOUND';\n  throw err;\n}\n","var $parcel$modules = {};\nvar $parcel$bundles = {};\n\nif (parcelRequire == null) {\n  parcelRequire = function(name) {\n    // Execute the bundle wrapper function if there is one registered.\n    if (name in $parcel$bundles) {\n      let wrapper = $parcel$bundles[name];\n      delete $parcel$bundles[name];\n      wrapper();\n    }\n\n    if (name in $parcel$modules) {\n      return $parcel$modules[name];\n    }\n\n    // Try the node require function if it exists.\n    // Do not use `require` to prevent Webpack from trying to bundle this call\n    if (typeof module !== 'undefined' && typeof module.require === 'function') {\n      return module.require(name);\n    }\n\n    var err = new Error(\"Cannot find module '\" + name + \"'\");\n    err.code = 'MODULE_NOT_FOUND';\n    throw err;\n  };\n\n  parcelRequire.register = function register(id, exports) {\n    $parcel$modules[id] = exports;\n  };\n\n  parcelRequire.registerBundle = function registerBundle(id, fn) {\n    $parcel$bundles[id] = fn;\n    $parcel$modules[id] = {};\n  };\n\n  $parcel$global[parcelRequireName] = parcelRequire;\n}\n","/*! Tweakpane 2.0.0 (c) 2016 cocopon, licensed under the MIT license. */\n(function (global, factory) {\n    typeof exports === 'object' && typeof module !== 'undefined' ? module.exports = factory() :\n    typeof define === 'function' && define.amd ? define(factory) :\n    (global = typeof globalThis !== 'undefined' ? globalThis : global || self, global.Tweakpane = factory());\n}(this, (function () { 'use strict';\n\n    var extendStatics = function(d, b) {\n        extendStatics = Object.setPrototypeOf ||\n            ({ __proto__: [] } instanceof Array && function (d, b) { d.__proto__ = b; }) ||\n            function (d, b) { for (var p in b) if (Object.prototype.hasOwnProperty.call(b, p)) d[p] = b[p]; };\n        return extendStatics(d, b);\n    };\n    function __extends(d, b) {\n        if (typeof b !== \"function\" && b !== null)\n            throw new TypeError(\"Class extends value \" + String(b) + \" is not a constructor or null\");\n        extendStatics(d, b);\n        function __() { this.constructor = d; }\n        d.prototype = b === null ? Object.create(b) : (__.prototype = b.prototype, new __());\n    }\n    var __assign = function() {\n        __assign = Object.assign || function __assign(t) {\n            for (var s, i = 1, n = arguments.length; i < n; i++) {\n                s = arguments[i];\n                for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p)) t[p] = s[p];\n            }\n            return t;\n        };\n        return __assign.apply(this, arguments);\n    };\n    function __spreadArrays() {\n        for (var s = 0, i = 0, il = arguments.length; i < il; i++) s += arguments[i].length;\n        for (var r = Array(s), k = 0, i = 0; i < il; i++)\n            for (var a = arguments[i], j = 0, jl = a.length; j < jl; j++, k++)\n                r[k] = a[j];\n        return r;\n    }\n\n    var Plugins = {\n        inputs: [],\n        monitors: [],\n    };\n    function getAllPlugins() {\n        return __spreadArrays(Plugins.inputs, Plugins.monitors);\n    }\n\n    var PREFIX = 'tp';\n    /**\n     * A utility function for generating BEM-like class name.\n     * @param viewName The name of the view. Used as part of the block name.\n     * @return A class name generator function.\n     */\n    function ClassName(viewName) {\n        /**\n         * Generates a class name.\n         * @param [opt_elementName] The name of the element.\n         * @param [opt_modifier] The name of the modifier.\n         * @return A class name.\n         */\n        var fn = function (opt_elementName, opt_modifier) {\n            return [\n                PREFIX,\n                '-',\n                viewName,\n                'v',\n                opt_elementName ? \"_\" + opt_elementName : '',\n                opt_modifier ? \"-\" + opt_modifier : '',\n            ].join('');\n        };\n        return fn;\n    }\n\n    var className = ClassName('lbl');\n    function createLabelNode(doc, label) {\n        var frag = doc.createDocumentFragment();\n        var lineNodes = label.split('\\n').map(function (line) {\n            return doc.createTextNode(line);\n        });\n        lineNodes.forEach(function (lineNode, index) {\n            if (index > 0) {\n                frag.appendChild(doc.createElement('br'));\n            }\n            frag.appendChild(lineNode);\n        });\n        return frag;\n    }\n    /**\n     * @hidden\n     */\n    var LabeledView = /** @class */ (function () {\n        function LabeledView(doc, config) {\n            this.label = config.label;\n            this.elem_ = doc.createElement('div');\n            this.elem_.classList.add(className());\n            var labelElem = doc.createElement('div');\n            labelElem.classList.add(className('l'));\n            labelElem.appendChild(createLabelNode(doc, this.label));\n            this.elem_.appendChild(labelElem);\n            var viewElem = doc.createElement('div');\n            viewElem.classList.add(className('v'));\n            viewElem.appendChild(config.view.element);\n            this.elem_.appendChild(viewElem);\n        }\n        Object.defineProperty(LabeledView.prototype, \"element\", {\n            get: function () {\n                return this.elem_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return LabeledView;\n    }());\n\n    function disposeElement(elem) {\n        if (elem && elem.parentElement) {\n            elem.parentElement.removeChild(elem);\n        }\n        return null;\n    }\n\n    function getAllBladePositions() {\n        return ['first', 'last'];\n    }\n\n    var className$1 = ClassName('');\n    function setUpBladeView(view, model) {\n        var elem = view.element;\n        model.emitter.on('change', function (ev) {\n            if (ev.propertyName === 'hidden') {\n                var hiddenClass = className$1(undefined, 'hidden');\n                if (model.hidden) {\n                    elem.classList.add(hiddenClass);\n                }\n                else {\n                    elem.classList.remove(hiddenClass);\n                }\n            }\n            else if (ev.propertyName === 'positions') {\n                getAllBladePositions().forEach(function (pos) {\n                    elem.classList.remove(className$1(undefined, pos));\n                });\n                model.positions.forEach(function (pos) {\n                    elem.classList.add(className$1(undefined, pos));\n                });\n            }\n        });\n        model.emitter.on('dispose', function () {\n            if (view.onDispose) {\n                view.onDispose();\n            }\n            disposeElement(elem);\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    var InputBindingController = /** @class */ (function () {\n        function InputBindingController(doc, config) {\n            this.binding = config.binding;\n            this.controller = config.controller;\n            this.view = new LabeledView(doc, {\n                label: config.label,\n                view: this.controller.view,\n            });\n            this.blade = config.blade;\n            setUpBladeView(this.view, this.blade);\n        }\n        return InputBindingController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var MonitorBindingController = /** @class */ (function () {\n        function MonitorBindingController(doc, config) {\n            var _this = this;\n            this.binding = config.binding;\n            this.controller = config.controller;\n            this.view = new LabeledView(doc, {\n                label: config.label,\n                view: this.controller.view,\n            });\n            this.blade = config.blade;\n            this.blade.emitter.on('dispose', function () {\n                _this.binding.dispose();\n            });\n            setUpBladeView(this.view, this.blade);\n        }\n        return MonitorBindingController;\n    }());\n\n    function forceCast(v) {\n        return v;\n    }\n    function isEmpty(value) {\n        return value === null || value === undefined;\n    }\n    function deepEqualsArray(a1, a2) {\n        if (a1.length !== a2.length) {\n            return false;\n        }\n        for (var i = 0; i < a1.length; i++) {\n            if (a1[i] !== a2[i]) {\n                return false;\n            }\n        }\n        return true;\n    }\n\n    /**\n     * A type-safe event emitter.\n     * @template E The interface that maps event names and event objects.\n     */\n    var Emitter = /** @class */ (function () {\n        function Emitter() {\n            this.observers_ = {};\n        }\n        /**\n         * Adds an event listener to the emitter.\n         * @param eventName The event name to listen.\n         * @param handler The event handler.\n         */\n        Emitter.prototype.on = function (eventName, handler) {\n            var observers = this.observers_[eventName];\n            if (!observers) {\n                observers = this.observers_[eventName] = [];\n            }\n            observers.push({\n                handler: handler,\n            });\n            return this;\n        };\n        /**\n         * Removes an event listener from the emitter.\n         * @param eventName The event name.\n         * @param handler The event handler to remove.\n         */\n        Emitter.prototype.off = function (eventName, handler) {\n            var observers = this.observers_[eventName];\n            if (observers) {\n                this.observers_[eventName] = observers.filter(function (observer) {\n                    return observer.handler !== handler;\n                });\n            }\n            return this;\n        };\n        Emitter.prototype.emit = function (eventName, event) {\n            var observers = this.observers_[eventName];\n            if (!observers) {\n                return;\n            }\n            observers.forEach(function (observer) {\n                observer.handler(event);\n            });\n        };\n        return Emitter;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Button = /** @class */ (function () {\n        function Button(title) {\n            this.emitter = new Emitter();\n            this.title = title;\n        }\n        Button.prototype.click = function () {\n            this.emitter.emit('click', {\n                sender: this,\n            });\n        };\n        return Button;\n    }());\n\n    var className$2 = ClassName('btn');\n    /**\n     * @hidden\n     */\n    var ButtonView = /** @class */ (function () {\n        function ButtonView(doc, config) {\n            this.button = config.button;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$2());\n            var buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$2('b'));\n            buttonElem.textContent = this.button.title;\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n        }\n        return ButtonView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ButtonController = /** @class */ (function () {\n        function ButtonController(doc, config) {\n            this.onButtonClick_ = this.onButtonClick_.bind(this);\n            this.button = new Button(config.title);\n            this.blade = config.blade;\n            this.view = new ButtonView(doc, {\n                button: this.button,\n            });\n            this.view.buttonElement.addEventListener('click', this.onButtonClick_);\n            setUpBladeView(this.view, this.blade);\n        }\n        ButtonController.prototype.onButtonClick_ = function () {\n            this.button.click();\n        };\n        return ButtonController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Disposable = /** @class */ (function () {\n        function Disposable() {\n            this.emitter = new Emitter();\n            this.disposed_ = false;\n        }\n        Object.defineProperty(Disposable.prototype, \"disposed\", {\n            get: function () {\n                return this.disposed_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Disposable.prototype.dispose = function () {\n            if (this.disposed_) {\n                return false;\n            }\n            this.disposed_ = true;\n            this.emitter.emit('dispose', {\n                sender: this,\n            });\n            return true;\n        };\n        return Disposable;\n    }());\n\n    var Blade = /** @class */ (function () {\n        function Blade() {\n            this.onDispose_ = this.onDispose_.bind(this);\n            this.emitter = new Emitter();\n            this.positions_ = [];\n            this.hidden_ = false;\n            this.disposable_ = new Disposable();\n            this.disposable_.emitter.on('dispose', this.onDispose_);\n        }\n        Object.defineProperty(Blade.prototype, \"hidden\", {\n            get: function () {\n                return this.hidden_;\n            },\n            set: function (hidden) {\n                if (this.hidden_ === hidden) {\n                    return;\n                }\n                this.hidden_ = hidden;\n                this.emitter.emit('change', {\n                    propertyName: 'hidden',\n                    sender: this,\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Blade.prototype, \"positions\", {\n            get: function () {\n                return this.positions_;\n            },\n            set: function (positions) {\n                if (deepEqualsArray(positions, this.positions_)) {\n                    return;\n                }\n                this.positions_ = positions;\n                this.emitter.emit('change', {\n                    propertyName: 'positions',\n                    sender: this,\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Blade.prototype, \"disposed\", {\n            get: function () {\n                return this.disposable_.disposed;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Blade.prototype.dispose = function () {\n            this.disposable_.dispose();\n        };\n        Blade.prototype.onDispose_ = function () {\n            this.emitter.emit('dispose', {\n                sender: this,\n            });\n        };\n        return Blade;\n    }());\n\n    var SVG_NS = 'http://www.w3.org/2000/svg';\n    function forceReflow(element) {\n        element.offsetHeight;\n    }\n    function disableTransitionTemporarily(element, callback) {\n        var t = element.style.transition;\n        element.style.transition = 'none';\n        callback();\n        element.style.transition = t;\n    }\n    function supportsTouch(doc) {\n        return doc.ontouchstart !== undefined;\n    }\n    function getGlobalObject() {\n        return new Function('return this')();\n    }\n    function getWindowDocument() {\n        var globalObj = forceCast(getGlobalObject());\n        return globalObj.document;\n    }\n    function isBrowser() {\n        return 'document' in getGlobalObject();\n    }\n    function getCanvasContext(canvasElement) {\n        // HTMLCanvasElement.prototype.getContext is not defined on testing environment\n        return isBrowser() ? canvasElement.getContext('2d') : null;\n    }\n    var ICON_ID_TO_INNER_HTML_MAP = {\n        p2dpad: '<path d=\"M8 2V14\" stroke=\"currentColor\" stroke-width=\"1.5\"/><path d=\"M2 8H14\" stroke=\"currentColor\" stroke-width=\"1.5\"/><circle cx=\"8\" cy=\"8\" r=\"2\" fill=\"currentColor\"/>',\n    };\n    function createSvgIconElement(document, iconId) {\n        var elem = document.createElementNS(SVG_NS, 'svg');\n        elem.innerHTML = ICON_ID_TO_INNER_HTML_MAP[iconId];\n        return elem;\n    }\n    function insertElementAt(parentElement, element, index) {\n        parentElement.insertBefore(element, parentElement.children[index]);\n    }\n    function findNextTarget(ev) {\n        if (ev.relatedTarget) {\n            return forceCast(ev.relatedTarget);\n        }\n        // Workaround for Firefox\n        if ('explicitOriginalTarget' in ev) {\n            return ev.explicitOriginalTarget;\n        }\n        // TODO: Workaround for Safari\n        // Safari doesn't set next target for some elements\n        // (e.g. button, input[type=checkbox], etc.)\n        return null;\n    }\n\n    function updateAllItemsPositions(bladeRack) {\n        var visibleItems = bladeRack.items.filter(function (bc) { return !bc.blade.hidden; });\n        var firstVisibleItem = visibleItems[0];\n        var lastVisibleItem = visibleItems[visibleItems.length - 1];\n        bladeRack.items.forEach(function (bc) {\n            var ps = [];\n            if (bc === firstVisibleItem) {\n                ps.push('first');\n            }\n            if (bc === lastVisibleItem) {\n                ps.push('last');\n            }\n            bc.blade.positions = ps;\n        });\n    }\n    /**\n     * @hidden\n     */\n    function computeExpandedFolderHeight(folder, containerElement) {\n        var height = 0;\n        disableTransitionTemporarily(containerElement, function () {\n            // Expand folder temporarily\n            folder.expandedHeight = null;\n            folder.temporaryExpanded = true;\n            forceReflow(containerElement);\n            // Compute height\n            height = containerElement.clientHeight;\n            // Restore expanded\n            folder.temporaryExpanded = null;\n            forceReflow(containerElement);\n        });\n        return height;\n    }\n\n    /**\n     * @hidden\n     */\n    var List = /** @class */ (function () {\n        function List() {\n            this.emitter = new Emitter();\n            this.items_ = [];\n        }\n        Object.defineProperty(List.prototype, \"items\", {\n            get: function () {\n                return this.items_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        List.prototype.add = function (item, opt_index) {\n            var index = opt_index !== undefined ? opt_index : this.items_.length;\n            this.items_.splice(index, 0, item);\n            this.emitter.emit('add', {\n                index: index,\n                item: item,\n                sender: this,\n            });\n        };\n        List.prototype.remove = function (item) {\n            var index = this.items_.indexOf(item);\n            if (index < 0) {\n                return;\n            }\n            this.items_.splice(index, 1);\n            this.emitter.emit('remove', {\n                sender: this,\n            });\n        };\n        return List;\n    }());\n\n    function findInputBindingController(bcs, b) {\n        for (var i = 0; i < bcs.length; i++) {\n            var bc = bcs[i];\n            if (bc instanceof InputBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findMonitorBindingController(bcs, b) {\n        for (var i = 0; i < bcs.length; i++) {\n            var bc = bcs[i];\n            if (bc instanceof MonitorBindingController && bc.binding === b) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    function findFolderController(bcs, f) {\n        for (var i = 0; i < bcs.length; i++) {\n            var bc = bcs[i];\n            if (bc instanceof FolderController && bc.folder === f) {\n                return bc;\n            }\n        }\n        return null;\n    }\n    /**\n     * @hidden\n     */\n    var BladeRack = /** @class */ (function () {\n        function BladeRack() {\n            this.onItemFolderFold_ = this.onItemFolderFold_.bind(this);\n            this.onListItemLayout_ = this.onListItemLayout_.bind(this);\n            this.onSubitemLayout_ = this.onSubitemLayout_.bind(this);\n            this.onSubitemFolderFold_ = this.onSubitemFolderFold_.bind(this);\n            this.onSubitemInputChange_ = this.onSubitemInputChange_.bind(this);\n            this.onSubitemMonitorUpdate_ = this.onSubitemMonitorUpdate_.bind(this);\n            this.onItemInputChange_ = this.onItemInputChange_.bind(this);\n            this.onListAdd_ = this.onListAdd_.bind(this);\n            this.onListItemDispose_ = this.onListItemDispose_.bind(this);\n            this.onListRemove_ = this.onListRemove_.bind(this);\n            this.onItemMonitorUpdate_ = this.onItemMonitorUpdate_.bind(this);\n            this.bcList_ = new List();\n            this.emitter = new Emitter();\n            this.bcList_.emitter.on('add', this.onListAdd_);\n            this.bcList_.emitter.on('remove', this.onListRemove_);\n        }\n        Object.defineProperty(BladeRack.prototype, \"items\", {\n            get: function () {\n                return this.bcList_.items;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        BladeRack.prototype.add = function (bc, opt_index) {\n            this.bcList_.add(bc, opt_index);\n        };\n        BladeRack.prototype.find = function (controllerClass) {\n            return this.items.reduce(function (results, bc) {\n                if (bc instanceof FolderController) {\n                    results.push.apply(results, bc.bladeRack.find(controllerClass));\n                }\n                if (bc instanceof controllerClass) {\n                    results.push(bc);\n                }\n                return results;\n            }, []);\n        };\n        BladeRack.prototype.onListAdd_ = function (ev) {\n            var bc = ev.item;\n            this.emitter.emit('add', {\n                bladeController: bc,\n                index: ev.index,\n                sender: this,\n            });\n            bc.blade.emitter.on('dispose', this.onListItemDispose_);\n            bc.blade.emitter.on('change', this.onListItemLayout_);\n            if (bc instanceof InputBindingController) {\n                bc.binding.emitter.on('change', this.onItemInputChange_);\n            }\n            else if (bc instanceof MonitorBindingController) {\n                bc.binding.emitter.on('update', this.onItemMonitorUpdate_);\n            }\n            else if (bc instanceof FolderController) {\n                bc.folder.emitter.on('change', this.onItemFolderFold_);\n                var emitter = bc.bladeRack.emitter;\n                emitter.on('itemfold', this.onSubitemFolderFold_);\n                emitter.on('itemlayout', this.onSubitemLayout_);\n                emitter.on('inputchange', this.onSubitemInputChange_);\n                emitter.on('monitorupdate', this.onSubitemMonitorUpdate_);\n            }\n        };\n        BladeRack.prototype.onListRemove_ = function (_) {\n            this.emitter.emit('remove', {\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onListItemLayout_ = function (ev) {\n            if (ev.propertyName === 'hidden' || ev.propertyName === 'positions') {\n                this.emitter.emit('itemlayout', {\n                    sender: this,\n                });\n            }\n        };\n        BladeRack.prototype.onListItemDispose_ = function (_) {\n            var _this = this;\n            var disposedUcs = this.bcList_.items.filter(function (bc) {\n                return bc.blade.disposed;\n            });\n            disposedUcs.forEach(function (bc) {\n                _this.bcList_.remove(bc);\n            });\n        };\n        BladeRack.prototype.onItemInputChange_ = function (ev) {\n            var ibc = findInputBindingController(this.find(InputBindingController), ev.sender);\n            if (!ibc) {\n                return;\n            }\n            this.emitter.emit('inputchange', {\n                bindingController: ibc,\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onItemMonitorUpdate_ = function (ev) {\n            var mbc = findMonitorBindingController(this.find(MonitorBindingController), ev.sender);\n            if (!mbc) {\n                return;\n            }\n            this.emitter.emit('monitorupdate', {\n                bindingController: mbc,\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onItemFolderFold_ = function (ev) {\n            if (ev.propertyName !== 'expanded') {\n                return;\n            }\n            var fc = findFolderController(this.find(FolderController), ev.sender);\n            if (fc) {\n                this.emitter.emit('itemfold', {\n                    folderController: fc,\n                    sender: this,\n                });\n            }\n        };\n        BladeRack.prototype.onSubitemLayout_ = function (_) {\n            this.emitter.emit('itemlayout', {\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onSubitemInputChange_ = function (ev) {\n            this.emitter.emit('inputchange', {\n                bindingController: ev.bindingController,\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onSubitemMonitorUpdate_ = function (ev) {\n            this.emitter.emit('monitorupdate', {\n                bindingController: ev.bindingController,\n                sender: this,\n            });\n        };\n        BladeRack.prototype.onSubitemFolderFold_ = function (ev) {\n            this.emitter.emit('itemfold', {\n                folderController: ev.folderController,\n                sender: this,\n            });\n        };\n        return BladeRack;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Folder = /** @class */ (function () {\n        function Folder(title, expanded) {\n            this.emitter = new Emitter();\n            this.expanded_ = expanded;\n            this.expandedHeight_ = null;\n            this.temporaryExpanded_ = null;\n            this.shouldFixHeight_ = false;\n            this.title = title;\n        }\n        Object.defineProperty(Folder.prototype, \"expanded\", {\n            get: function () {\n                return this.expanded_;\n            },\n            set: function (expanded) {\n                var changed = this.expanded_ !== expanded;\n                if (!changed) {\n                    return;\n                }\n                this.emitter.emit('beforechange', {\n                    propertyName: 'expanded',\n                    sender: this,\n                });\n                this.expanded_ = expanded;\n                this.emitter.emit('change', {\n                    propertyName: 'expanded',\n                    sender: this,\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Folder.prototype, \"temporaryExpanded\", {\n            get: function () {\n                return this.temporaryExpanded_;\n            },\n            set: function (expanded) {\n                var changed = this.temporaryExpanded_ !== expanded;\n                if (!changed) {\n                    return;\n                }\n                this.emitter.emit('beforechange', {\n                    propertyName: 'temporaryExpanded',\n                    sender: this,\n                });\n                this.temporaryExpanded_ = expanded;\n                this.emitter.emit('change', {\n                    propertyName: 'temporaryExpanded',\n                    sender: this,\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Folder.prototype, \"expandedHeight\", {\n            get: function () {\n                return this.expandedHeight_;\n            },\n            set: function (expandedHeight) {\n                var changed = this.expandedHeight_ !== expandedHeight;\n                if (!changed) {\n                    return;\n                }\n                this.emitter.emit('beforechange', {\n                    propertyName: 'expandedHeight',\n                    sender: this,\n                });\n                this.expandedHeight_ = expandedHeight;\n                this.emitter.emit('change', {\n                    propertyName: 'expandedHeight',\n                    sender: this,\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Folder.prototype, \"shouldFixHeight\", {\n            get: function () {\n                return this.shouldFixHeight_;\n            },\n            set: function (shouldFixHeight) {\n                var changed = this.shouldFixHeight_ !== shouldFixHeight;\n                if (!changed) {\n                    return;\n                }\n                this.emitter.emit('beforechange', {\n                    propertyName: 'shouldFixHeight',\n                    sender: this,\n                });\n                this.shouldFixHeight_ = shouldFixHeight;\n                this.emitter.emit('change', {\n                    propertyName: 'shouldFixHeight',\n                    sender: this,\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Folder.prototype, \"styleExpanded\", {\n            get: function () {\n                var _a;\n                return (_a = this.temporaryExpanded) !== null && _a !== void 0 ? _a : this.expanded;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Folder.prototype, \"styleHeight\", {\n            get: function () {\n                if (!this.styleExpanded) {\n                    return '0';\n                }\n                if (this.shouldFixHeight && !isEmpty(this.expandedHeight)) {\n                    return this.expandedHeight + \"px\";\n                }\n                return 'auto';\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return Folder;\n    }());\n\n    /**\n     * @hidden\n     */\n    var FolderView = /** @class */ (function () {\n        function FolderView(doc, config) {\n            this.onFolderChange_ = this.onFolderChange_.bind(this);\n            this.folder_ = config.folder;\n            this.folder_.emitter.on('change', this.onFolderChange_);\n            this.className_ = ClassName(config.viewName || 'fld');\n            this.element = doc.createElement('div');\n            this.element.classList.add(this.className_());\n            var titleElem = doc.createElement('button');\n            titleElem.classList.add(this.className_('t'));\n            titleElem.textContent = this.folder_.title;\n            if (config.hidesTitle) {\n                titleElem.style.display = 'none';\n            }\n            this.element.appendChild(titleElem);\n            this.titleElement = titleElem;\n            var markElem = doc.createElement('div');\n            markElem.classList.add(this.className_('m'));\n            this.titleElement.appendChild(markElem);\n            var containerElem = doc.createElement('div');\n            containerElem.classList.add(this.className_('c'));\n            this.element.appendChild(containerElem);\n            this.containerElement = containerElem;\n            this.applyModel_();\n        }\n        FolderView.prototype.applyModel_ = function () {\n            var expanded = this.folder_.styleExpanded;\n            var expandedClass = this.className_(undefined, 'expanded');\n            if (expanded) {\n                this.element.classList.add(expandedClass);\n            }\n            else {\n                this.element.classList.remove(expandedClass);\n            }\n            this.containerElement.style.height = this.folder_.styleHeight;\n        };\n        FolderView.prototype.onFolderChange_ = function () {\n            this.applyModel_();\n        };\n        return FolderView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var FolderController = /** @class */ (function () {\n        function FolderController(doc, config) {\n            var _a;\n            this.onContainerTransitionEnd_ = this.onContainerTransitionEnd_.bind(this);\n            this.onFolderBeforeChange_ = this.onFolderBeforeChange_.bind(this);\n            this.onTitleClick_ = this.onTitleClick_.bind(this);\n            this.onRackAdd_ = this.onRackAdd_.bind(this);\n            this.onRackItemLayout_ = this.onRackItemLayout_.bind(this);\n            this.onRackRemove_ = this.onRackRemove_.bind(this);\n            this.blade = config.blade;\n            this.folder = new Folder(config.title, (_a = config.expanded) !== null && _a !== void 0 ? _a : true);\n            this.folder.emitter.on('beforechange', this.onFolderBeforeChange_);\n            var rack = new BladeRack();\n            rack.emitter.on('add', this.onRackAdd_);\n            rack.emitter.on('itemlayout', this.onRackItemLayout_);\n            rack.emitter.on('remove', this.onRackRemove_);\n            this.bladeRack = rack;\n            this.doc_ = doc;\n            this.view = new FolderView(this.doc_, {\n                folder: this.folder,\n                hidesTitle: config.hidesTitle,\n                viewName: config.viewName,\n            });\n            this.view.titleElement.addEventListener('click', this.onTitleClick_);\n            this.view.containerElement.addEventListener('transitionend', this.onContainerTransitionEnd_);\n            setUpBladeView(this.view, this.blade);\n        }\n        Object.defineProperty(FolderController.prototype, \"document\", {\n            get: function () {\n                return this.doc_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        FolderController.prototype.onFolderBeforeChange_ = function (ev) {\n            if (ev.propertyName !== 'expanded') {\n                return;\n            }\n            if (isEmpty(this.folder.expandedHeight)) {\n                this.folder.expandedHeight = computeExpandedFolderHeight(this.folder, this.view.containerElement);\n            }\n            this.folder.shouldFixHeight = true;\n            forceReflow(this.view.containerElement);\n        };\n        FolderController.prototype.onTitleClick_ = function () {\n            this.folder.expanded = !this.folder.expanded;\n        };\n        FolderController.prototype.applyRackChange_ = function () {\n            updateAllItemsPositions(this.bladeRack);\n        };\n        FolderController.prototype.onRackAdd_ = function (ev) {\n            insertElementAt(this.view.containerElement, ev.bladeController.view.element, ev.index);\n            this.applyRackChange_();\n        };\n        FolderController.prototype.onRackRemove_ = function (_) {\n            this.applyRackChange_();\n        };\n        FolderController.prototype.onRackItemLayout_ = function (_) {\n            this.applyRackChange_();\n        };\n        FolderController.prototype.onContainerTransitionEnd_ = function (ev) {\n            if (ev.propertyName !== 'height') {\n                return;\n            }\n            this.folder.shouldFixHeight = false;\n            this.folder.expandedHeight = null;\n        };\n        return FolderController;\n    }());\n\n    var className$3 = ClassName('spt');\n    /**\n     * @hidden\n     */\n    var SeparatorView = /** @class */ (function () {\n        function SeparatorView(doc) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$3());\n            var hrElem = doc.createElement('hr');\n            hrElem.classList.add(className$3('r'));\n            this.element.appendChild(hrElem);\n        }\n        return SeparatorView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var SeparatorController = /** @class */ (function () {\n        function SeparatorController(doc, config) {\n            this.blade = config.blade;\n            this.view = new SeparatorView(doc);\n            setUpBladeView(this.view, this.blade);\n        }\n        return SeparatorController;\n    }());\n\n    var ButtonApi = /** @class */ (function () {\n        /**\n         * @hidden\n         */\n        function ButtonApi(buttonController) {\n            this.controller = buttonController;\n        }\n        Object.defineProperty(ButtonApi.prototype, \"hidden\", {\n            get: function () {\n                return this.controller.blade.hidden;\n            },\n            set: function (hidden) {\n                this.controller.blade.hidden = hidden;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ButtonApi.prototype.dispose = function () {\n            this.controller.blade.dispose();\n        };\n        ButtonApi.prototype.on = function (eventName, handler) {\n            var emitter = this.controller.button.emitter;\n            // TODO: Type-safe\n            emitter.on(eventName, forceCast(handler.bind(this)));\n            return this;\n        };\n        return ButtonApi;\n    }());\n\n    /**\n     * A base class of Tweakpane API events.\n     */\n    var TpEvent = /** @class */ (function () {\n        /**\n         * @hidden\n         */\n        function TpEvent(target) {\n            this.target = target;\n        }\n        return TpEvent;\n    }());\n    /**\n     * An event class for value changes of input bindings.\n     * @template T The type of the value.\n     */\n    var TpChangeEvent = /** @class */ (function (_super) {\n        __extends(TpChangeEvent, _super);\n        /**\n         * @hidden\n         */\n        function TpChangeEvent(target, value, presetKey) {\n            var _this = _super.call(this, target) || this;\n            _this.value = value;\n            _this.presetKey = presetKey;\n            return _this;\n        }\n        return TpChangeEvent;\n    }(TpEvent));\n    /**\n     * An event class for value updates of monitor bindings.\n     * @template T The type of the value.\n     */\n    var TpUpdateEvent = /** @class */ (function (_super) {\n        __extends(TpUpdateEvent, _super);\n        /**\n         * @hidden\n         */\n        function TpUpdateEvent(target, value, presetKey) {\n            var _this = _super.call(this, target) || this;\n            _this.value = value;\n            _this.presetKey = presetKey;\n            return _this;\n        }\n        return TpUpdateEvent;\n    }(TpEvent));\n    /**\n     * An event class for folder.\n     */\n    var TpFoldEvent = /** @class */ (function (_super) {\n        __extends(TpFoldEvent, _super);\n        /**\n         * @hidden\n         */\n        function TpFoldEvent(target, expanded) {\n            var _this = _super.call(this, target) || this;\n            _this.expanded = expanded;\n            return _this;\n        }\n        return TpFoldEvent;\n    }(TpEvent));\n\n    /**\n     * The API for the input binding between the parameter and the pane.\n     * @template In The internal type.\n     * @template Ex The external type (= parameter object).\n     */\n    var InputBindingApi = /** @class */ (function () {\n        /**\n         * @hidden\n         */\n        function InputBindingApi(bindingController) {\n            this.onBindingChange_ = this.onBindingChange_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller = bindingController;\n            this.controller.binding.emitter.on('change', this.onBindingChange_);\n        }\n        Object.defineProperty(InputBindingApi.prototype, \"hidden\", {\n            get: function () {\n                return this.controller.blade.hidden;\n            },\n            set: function (hidden) {\n                this.controller.blade.hidden = hidden;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        InputBindingApi.prototype.dispose = function () {\n            this.controller.blade.dispose();\n        };\n        InputBindingApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        InputBindingApi.prototype.refresh = function () {\n            this.controller.binding.read();\n        };\n        InputBindingApi.prototype.onBindingChange_ = function (ev) {\n            var value = ev.sender.target.read();\n            this.emitter_.emit('change', {\n                event: new TpChangeEvent(this, forceCast(value), this.controller.binding.target.presetKey),\n            });\n        };\n        return InputBindingApi;\n    }());\n\n    var CREATE_MESSAGE_MAP = {\n        alreadydisposed: function () { return 'View has been already disposed'; },\n        invalidparams: function (context) { return \"Invalid parameters for '\" + context.name + \"'\"; },\n        nomatchingcontroller: function (context) {\n            return \"No matching controller for '\" + context.key + \"'\";\n        },\n        notbindable: function () { return \"Value is not bindable\"; },\n        propertynotfound: function (context) { return \"Property '\" + context.name + \"' not found\"; },\n        shouldneverhappen: function () { return 'This error should never happen'; },\n    };\n    var TpError = /** @class */ (function () {\n        function TpError(config) {\n            var _a;\n            this.message = (_a = CREATE_MESSAGE_MAP[config.type](forceCast(config.context))) !== null && _a !== void 0 ? _a : 'Unexpected error';\n            this.name = this.constructor.name;\n            this.stack = new Error(this.message).stack;\n            this.type = config.type;\n        }\n        TpError.alreadyDisposed = function () {\n            return new TpError({ context: {}, type: 'alreadydisposed' });\n        };\n        TpError.notBindable = function () {\n            return new TpError({\n                context: {},\n                type: 'notbindable',\n            });\n        };\n        TpError.propertyNotFound = function (name) {\n            return new TpError({\n                type: 'propertynotfound',\n                context: {\n                    name: name,\n                },\n            });\n        };\n        TpError.shouldNeverHappen = function () {\n            return new TpError({ context: {}, type: 'shouldneverhappen' });\n        };\n        return TpError;\n    }());\n    TpError.prototype = Object.create(Error.prototype);\n    TpError.prototype.constructor = TpError;\n\n    /**\n     * @hidden\n     */\n    var InputBinding = /** @class */ (function () {\n        function InputBinding(config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.reader = config.reader;\n            this.writer = config.writer;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.target = config.target;\n            this.read();\n        }\n        InputBinding.prototype.read = function () {\n            var targetValue = this.target.read();\n            if (targetValue !== undefined) {\n                this.value.rawValue = this.reader(targetValue);\n            }\n        };\n        InputBinding.prototype.write_ = function (rawValue) {\n            this.writer(this.target, rawValue);\n        };\n        InputBinding.prototype.onValueChange_ = function (ev) {\n            this.write_(ev.rawValue);\n            this.emitter.emit('change', {\n                rawValue: ev.rawValue,\n                sender: this,\n            });\n        };\n        return InputBinding;\n    }());\n\n    /**\n     * A model for handling value changes.\n     * @template T The type of the raw value.\n     */\n    var Value = /** @class */ (function () {\n        function Value(initialValue, config) {\n            var _a;\n            this.constraint_ = config === null || config === void 0 ? void 0 : config.constraint;\n            this.equals_ = (_a = config === null || config === void 0 ? void 0 : config.equals) !== null && _a !== void 0 ? _a : (function (v1, v2) { return v1 === v2; });\n            this.emitter = new Emitter();\n            this.rawValue_ = initialValue;\n        }\n        Object.defineProperty(Value.prototype, \"constraint\", {\n            get: function () {\n                return this.constraint_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Value.prototype, \"rawValue\", {\n            /**\n             * The raw value of the model.\n             */\n            get: function () {\n                return this.rawValue_;\n            },\n            set: function (rawValue) {\n                var constrainedValue = this.constraint_\n                    ? this.constraint_.constrain(rawValue)\n                    : rawValue;\n                var changed = !this.equals_(this.rawValue_, constrainedValue);\n                if (changed) {\n                    this.rawValue_ = constrainedValue;\n                    this.emitter.emit('change', {\n                        rawValue: constrainedValue,\n                        sender: this,\n                    });\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return Value;\n    }());\n\n    function createController(plugin, args) {\n        var initialValue = plugin.accept(args.target.read(), args.params);\n        if (initialValue === null) {\n            return null;\n        }\n        var valueArgs = {\n            target: args.target,\n            initialValue: initialValue,\n            params: args.params,\n        };\n        var reader = plugin.binding.reader(valueArgs);\n        var constraint = plugin.binding.constraint\n            ? plugin.binding.constraint(valueArgs)\n            : undefined;\n        var value = new Value(reader(initialValue), {\n            constraint: constraint,\n            equals: plugin.binding.equals,\n        });\n        var binding = new InputBinding({\n            reader: reader,\n            target: args.target,\n            value: value,\n            writer: plugin.binding.writer(valueArgs),\n        });\n        var controller = plugin.controller({\n            document: args.document,\n            initialValue: initialValue,\n            params: args.params,\n            value: binding.value,\n        });\n        return new InputBindingController(args.document, {\n            binding: binding,\n            controller: controller,\n            label: args.params.label || args.target.key,\n            blade: new Blade(),\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    function createInputBindingController(document, target, params) {\n        var initialValue = target.read();\n        if (isEmpty(initialValue)) {\n            throw new TpError({\n                context: {\n                    key: target.key,\n                },\n                type: 'nomatchingcontroller',\n            });\n        }\n        var bc = Plugins.inputs.reduce(function (result, plugin) {\n            return result ||\n                createController(plugin, {\n                    document: document,\n                    target: target,\n                    params: params,\n                });\n        }, null);\n        if (bc) {\n            return bc;\n        }\n        throw new TpError({\n            context: {\n                key: target.key,\n            },\n            type: 'nomatchingcontroller',\n        });\n    }\n\n    /**\n     * The API for the monitor binding between the parameter and the pane.\n     */\n    var MonitorBindingApi = /** @class */ (function () {\n        /**\n         * @hidden\n         */\n        function MonitorBindingApi(bindingController) {\n            this.onBindingUpdate_ = this.onBindingUpdate_.bind(this);\n            this.emitter_ = new Emitter();\n            this.controller = bindingController;\n            this.controller.binding.emitter.on('update', this.onBindingUpdate_);\n        }\n        Object.defineProperty(MonitorBindingApi.prototype, \"hidden\", {\n            get: function () {\n                return this.controller.blade.hidden;\n            },\n            set: function (hidden) {\n                this.controller.blade.hidden = hidden;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        MonitorBindingApi.prototype.dispose = function () {\n            this.controller.blade.dispose();\n        };\n        MonitorBindingApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        MonitorBindingApi.prototype.refresh = function () {\n            this.controller.binding.read();\n        };\n        MonitorBindingApi.prototype.onBindingUpdate_ = function (ev) {\n            var value = ev.sender.target.read();\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(this, forceCast(value), this.controller.binding.target.presetKey),\n            });\n        };\n        return MonitorBindingApi;\n    }());\n\n    var Constants = {\n        monitor: {\n            defaultInterval: 200,\n            defaultLineCount: 3,\n        },\n    };\n\n    function fillBuffer(buffer, bufferSize) {\n        while (buffer.length < bufferSize) {\n            buffer.push(undefined);\n        }\n    }\n    /**\n     * @hidden\n     */\n    function initializeBuffer(initialValue, bufferSize) {\n        var buffer = [initialValue];\n        fillBuffer(buffer, bufferSize);\n        return new Value(buffer);\n    }\n    function createTrimmedBuffer(buffer) {\n        var index = buffer.indexOf(undefined);\n        return forceCast(index < 0 ? buffer : buffer.slice(0, index));\n    }\n    /**\n     * @hidden\n     */\n    function createPushedBuffer(buffer, newValue) {\n        var newBuffer = __spreadArrays(createTrimmedBuffer(buffer), [newValue]);\n        if (newBuffer.length > buffer.length) {\n            newBuffer.splice(0, newBuffer.length - buffer.length);\n        }\n        else {\n            fillBuffer(newBuffer, buffer.length);\n        }\n        return newBuffer;\n    }\n\n    /**\n     * @hidden\n     */\n    var MonitorBinding = /** @class */ (function () {\n        function MonitorBinding(config) {\n            this.onTick_ = this.onTick_.bind(this);\n            this.reader_ = config.reader;\n            this.target = config.target;\n            this.emitter = new Emitter();\n            this.value = config.value;\n            this.ticker = config.ticker;\n            this.ticker.emitter.on('tick', this.onTick_);\n            this.read();\n        }\n        MonitorBinding.prototype.dispose = function () {\n            this.ticker.disposable.dispose();\n        };\n        MonitorBinding.prototype.read = function () {\n            var targetValue = this.target.read();\n            if (targetValue === undefined) {\n                return;\n            }\n            var buffer = this.value.rawValue;\n            var newValue = this.reader_(targetValue);\n            this.value.rawValue = createPushedBuffer(buffer, newValue);\n            this.emitter.emit('update', {\n                rawValue: newValue,\n                sender: this,\n            });\n        };\n        MonitorBinding.prototype.onTick_ = function (_) {\n            this.read();\n        };\n        return MonitorBinding;\n    }());\n\n    /**\n     * @hidden\n     */\n    var IntervalTicker = /** @class */ (function () {\n        function IntervalTicker(doc, interval) {\n            var _this = this;\n            this.id_ = null;\n            this.onTick_ = this.onTick_.bind(this);\n            // this.onWindowBlur_ = this.onWindowBlur_.bind(this);\n            // this.onWindowFocus_ = this.onWindowFocus_.bind(this);\n            this.doc_ = doc;\n            this.emitter = new Emitter();\n            if (interval <= 0) {\n                this.id_ = null;\n            }\n            else {\n                var win = this.doc_.defaultView;\n                if (win) {\n                    this.id_ = win.setInterval(this.onTick_, interval);\n                }\n            }\n            // TODO: Stop on blur?\n            // const win = document.defaultView;\n            // if (win) {\n            //   win.addEventListener('blur', this.onWindowBlur_);\n            //   win.addEventListener('focus', this.onWindowFocus_);\n            // }\n            this.disposable = new Disposable();\n            this.disposable.emitter.on('dispose', function () {\n                if (_this.id_ !== null) {\n                    var win = _this.doc_.defaultView;\n                    if (win) {\n                        win.clearInterval(_this.id_);\n                    }\n                }\n                _this.id_ = null;\n            });\n        }\n        IntervalTicker.prototype.onTick_ = function () {\n            // if (!this.active_) {\n            // \treturn;\n            // }\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        };\n        return IntervalTicker;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ManualTicker = /** @class */ (function () {\n        function ManualTicker() {\n            this.disposable = new Disposable();\n            this.emitter = new Emitter();\n        }\n        ManualTicker.prototype.tick = function () {\n            this.emitter.emit('tick', {\n                sender: this,\n            });\n        };\n        return ManualTicker;\n    }());\n\n    function createTicker(document, interval) {\n        return interval === 0\n            ? new ManualTicker()\n            : new IntervalTicker(document, interval !== null && interval !== void 0 ? interval : Constants.monitor.defaultInterval);\n    }\n    function createController$1(plugin, args) {\n        var _a, _b;\n        var initialValue = plugin.accept(args.target.read(), args.params);\n        if (initialValue === null) {\n            return null;\n        }\n        var valueArgs = {\n            target: args.target,\n            initialValue: initialValue,\n            params: args.params,\n        };\n        var reader = plugin.binding.reader(valueArgs);\n        var bufferSize = (_b = (_a = args.params.bufferSize) !== null && _a !== void 0 ? _a : (plugin.binding.defaultBufferSize &&\n            plugin.binding.defaultBufferSize(args.params))) !== null && _b !== void 0 ? _b : 1;\n        var binding = new MonitorBinding({\n            reader: reader,\n            target: args.target,\n            ticker: createTicker(args.document, args.params.interval),\n            value: initializeBuffer(reader(initialValue), bufferSize),\n        });\n        return new MonitorBindingController(args.document, {\n            binding: binding,\n            controller: plugin.controller({\n                document: args.document,\n                params: args.params,\n                value: binding.value,\n            }),\n            label: args.params.label || args.target.key,\n            blade: new Blade(),\n        });\n    }\n\n    /**\n     * @hidden\n     */\n    function createMonitorBindingController(document, target, params) {\n        var bc = Plugins.monitors.reduce(function (result, plugin) {\n            return result ||\n                createController$1(plugin, {\n                    document: document,\n                    params: params,\n                    target: target,\n                });\n        }, null);\n        if (bc) {\n            return bc;\n        }\n        throw new TpError({\n            context: {\n                key: target.key,\n            },\n            type: 'nomatchingcontroller',\n        });\n    }\n\n    var SeparatorApi = /** @class */ (function () {\n        /**\n         * @hidden\n         */\n        function SeparatorApi(controller) {\n            this.controller = controller;\n        }\n        Object.defineProperty(SeparatorApi.prototype, \"hidden\", {\n            get: function () {\n                return this.controller.blade.hidden;\n            },\n            set: function (hidden) {\n                this.controller.blade.hidden = hidden;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        SeparatorApi.prototype.dispose = function () {\n            this.controller.blade.dispose();\n        };\n        return SeparatorApi;\n    }());\n\n    /**\n     * A binding target.\n     */\n    var BindingTarget = /** @class */ (function () {\n        function BindingTarget(obj, key, opt_id) {\n            this.obj_ = obj;\n            this.key_ = key;\n            this.presetKey_ = opt_id !== null && opt_id !== void 0 ? opt_id : key;\n        }\n        BindingTarget.isBindable = function (obj) {\n            if (obj === null) {\n                return false;\n            }\n            if (typeof obj !== 'object') {\n                return false;\n            }\n            return true;\n        };\n        Object.defineProperty(BindingTarget.prototype, \"key\", {\n            /**\n             * The property name of the binding.\n             */\n            get: function () {\n                return this.key_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(BindingTarget.prototype, \"presetKey\", {\n            /**\n             * The key used for presets.\n             */\n            get: function () {\n                return this.presetKey_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Read a bound value.\n         * @return A bound value\n         */\n        BindingTarget.prototype.read = function () {\n            return this.obj_[this.key_];\n        };\n        /**\n         * Write a value.\n         * @param value The value to write to the target.\n         */\n        BindingTarget.prototype.write = function (value) {\n            this.obj_[this.key_] = value;\n        };\n        /**\n         * Write a value to the target property.\n         * @param name The property name.\n         * @param value The value to write to the target.\n         */\n        BindingTarget.prototype.writeProperty = function (name, value) {\n            var valueObj = this.read();\n            if (!BindingTarget.isBindable(valueObj)) {\n                throw TpError.notBindable();\n            }\n            if (!(name in valueObj)) {\n                throw TpError.propertyNotFound(name);\n            }\n            valueObj[name] = value;\n        };\n        return BindingTarget;\n    }());\n\n    function createBindingTarget(obj, key, opt_id) {\n        if (!BindingTarget.isBindable(obj)) {\n            throw TpError.notBindable();\n        }\n        return new BindingTarget(obj, key, opt_id);\n    }\n\n    var FolderApi = /** @class */ (function () {\n        /**\n         * @hidden\n         */\n        function FolderApi(controller) {\n            this.onFolderChange_ = this.onFolderChange_.bind(this);\n            this.onRackInputChange_ = this.onRackInputChange_.bind(this);\n            this.onRackItemFold_ = this.onRackItemFold_.bind(this);\n            this.onRackMonitorUpdate_ = this.onRackMonitorUpdate_.bind(this);\n            this.controller = controller;\n            this.emitter_ = new Emitter();\n            this.controller.folder.emitter.on('change', this.onFolderChange_);\n            var rack = this.controller.bladeRack;\n            rack.emitter.on('inputchange', this.onRackInputChange_);\n            rack.emitter.on('monitorupdate', this.onRackMonitorUpdate_);\n            rack.emitter.on('itemfold', this.onRackItemFold_);\n        }\n        Object.defineProperty(FolderApi.prototype, \"expanded\", {\n            get: function () {\n                return this.controller.folder.expanded;\n            },\n            set: function (expanded) {\n                this.controller.folder.expanded = expanded;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(FolderApi.prototype, \"hidden\", {\n            get: function () {\n                return this.controller.blade.hidden;\n            },\n            set: function (hidden) {\n                this.controller.blade.hidden = hidden;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        FolderApi.prototype.dispose = function () {\n            this.controller.blade.dispose();\n        };\n        FolderApi.prototype.addInput = function (object, key, opt_params) {\n            var params = opt_params || {};\n            var bc = createInputBindingController(this.controller.document, createBindingTarget(object, key, params.presetKey), params);\n            this.controller.bladeRack.add(bc, params.index);\n            return new InputBindingApi(forceCast(bc));\n        };\n        FolderApi.prototype.addMonitor = function (object, key, opt_params) {\n            var params = opt_params || {};\n            var bc = createMonitorBindingController(this.controller.document, createBindingTarget(object, key), params);\n            this.controller.bladeRack.add(bc, params.index);\n            return new MonitorBindingApi(forceCast(bc));\n        };\n        FolderApi.prototype.addFolder = function (params) {\n            var bc = new FolderController(this.controller.document, __assign(__assign({}, params), { blade: new Blade() }));\n            this.controller.bladeRack.add(bc, params.index);\n            return new FolderApi(bc);\n        };\n        FolderApi.prototype.addButton = function (params) {\n            var bc = new ButtonController(this.controller.document, __assign(__assign({}, params), { blade: new Blade() }));\n            this.controller.bladeRack.add(bc, params.index);\n            return new ButtonApi(bc);\n        };\n        FolderApi.prototype.addSeparator = function (opt_params) {\n            var params = opt_params || {};\n            var bc = new SeparatorController(this.controller.document, {\n                blade: new Blade(),\n            });\n            this.controller.bladeRack.add(bc, params.index);\n            return new SeparatorApi(bc);\n        };\n        /**\n         * Adds a global event listener. It handles all events of child inputs/monitors.\n         * @param eventName The event name to listen.\n         * @return The API object itself.\n         */\n        FolderApi.prototype.on = function (eventName, handler) {\n            var bh = handler.bind(this);\n            this.emitter_.on(eventName, function (ev) {\n                bh(ev.event);\n            });\n            return this;\n        };\n        FolderApi.prototype.onRackInputChange_ = function (ev) {\n            var bapi = new InputBindingApi(ev.bindingController);\n            var binding = ev.bindingController.binding;\n            this.emitter_.emit('change', {\n                event: new TpChangeEvent(bapi, forceCast(binding.target.read()), binding.target.presetKey),\n            });\n        };\n        FolderApi.prototype.onRackMonitorUpdate_ = function (ev) {\n            var bapi = new MonitorBindingApi(ev.bindingController);\n            var binding = ev.bindingController.binding;\n            this.emitter_.emit('update', {\n                event: new TpUpdateEvent(bapi, forceCast(binding.target.read()), binding.target.presetKey),\n            });\n        };\n        FolderApi.prototype.onRackItemFold_ = function (ev) {\n            var fapi = new FolderApi(ev.folderController);\n            this.emitter_.emit('fold', {\n                event: new TpFoldEvent(fapi, ev.folderController.folder.expanded),\n            });\n        };\n        FolderApi.prototype.onFolderChange_ = function (ev) {\n            if (ev.propertyName !== 'expanded') {\n                return;\n            }\n            this.emitter_.emit('fold', {\n                event: new TpFoldEvent(this, ev.sender.expanded),\n            });\n        };\n        return FolderApi;\n    }());\n\n    /**\n     * @hidden\n     */\n    function exportPresetJson(targets) {\n        return targets.reduce(function (result, target) {\n            var _a;\n            return Object.assign(result, (_a = {},\n                _a[target.presetKey] = target.read(),\n                _a));\n        }, {});\n    }\n    /**\n     * @hidden\n     */\n    function importPresetJson(targets, preset) {\n        targets.forEach(function (target) {\n            var value = preset[target.presetKey];\n            if (value !== undefined) {\n                target.write(value);\n            }\n        });\n    }\n\n    /**\n     * The Tweakpane interface.\n     *\n     * ```\n     * new Tweakpane(options: TweakpaneConfig): RootApi\n     * ```\n     *\n     * See [[`TweakpaneConfig`]] interface for available options.\n     */\n    var RootApi = /** @class */ (function (_super) {\n        __extends(RootApi, _super);\n        /**\n         * @hidden\n         */\n        function RootApi(controller) {\n            return _super.call(this, controller) || this;\n        }\n        /**\n         * Registers a plugin.\n         * @template In The type of the internal value.\n         * @template Ex The type of the external value.\n         * @param r The configuration of the plugin.\n         */\n        RootApi.registerPlugin = function (r) {\n            if (r.type === 'input') {\n                Plugins.inputs.unshift(r.plugin);\n            }\n            else if (r.type === 'monitor') {\n                Plugins.monitors.unshift(r.plugin);\n            }\n        };\n        Object.defineProperty(RootApi.prototype, \"element\", {\n            get: function () {\n                return this.controller.view.element;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        /**\n         * Imports a preset of all inputs.\n         * @param preset The preset object to import.\n         */\n        RootApi.prototype.importPreset = function (preset) {\n            var targets = this.controller.bladeRack\n                .find(InputBindingController)\n                .map(function (ibc) {\n                return ibc.binding.target;\n            });\n            importPresetJson(targets, preset);\n            this.refresh();\n        };\n        /**\n         * Exports a preset of all inputs.\n         * @return An exported preset object.\n         */\n        RootApi.prototype.exportPreset = function () {\n            var targets = this.controller.bladeRack\n                .find(InputBindingController)\n                .map(function (ibc) {\n                return ibc.binding.target;\n            });\n            return exportPresetJson(targets);\n        };\n        /**\n         * Refreshes all bindings of the pane.\n         */\n        RootApi.prototype.refresh = function () {\n            // Force-read all input bindings\n            this.controller.bladeRack.find(InputBindingController).forEach(function (ibc) {\n                ibc.binding.read();\n            });\n            // Force-read all monitor bindings\n            this.controller.bladeRack.find(MonitorBindingController).forEach(function (mbc) {\n                mbc.binding.read();\n            });\n        };\n        return RootApi;\n    }(FolderApi));\n\n    var RootController = /** @class */ (function (_super) {\n        __extends(RootController, _super);\n        function RootController(doc, config) {\n            return _super.call(this, doc, {\n                expanded: config.expanded,\n                title: config.title || '',\n                blade: config.blade,\n                hidesTitle: config.title === undefined,\n                viewName: 'rot',\n            }) || this;\n        }\n        return RootController;\n    }(FolderController));\n\n    /**\n     * A constraint to combine multiple constraints.\n     * @template T The type of the value.\n     */\n    var CompositeConstraint = /** @class */ (function () {\n        function CompositeConstraint(constraints) {\n            this.constraints = constraints;\n        }\n        CompositeConstraint.prototype.constrain = function (value) {\n            return this.constraints.reduce(function (result, c) {\n                return c.constrain(result);\n            }, value);\n        };\n        return CompositeConstraint;\n    }());\n    function findConstraint(c, constraintClass) {\n        if (c instanceof constraintClass) {\n            return c;\n        }\n        if (c instanceof CompositeConstraint) {\n            var result = c.constraints.reduce(function (tmpResult, sc) {\n                if (tmpResult) {\n                    return tmpResult;\n                }\n                return sc instanceof constraintClass ? sc : null;\n            }, null);\n            if (result) {\n                return result;\n            }\n        }\n        return null;\n    }\n\n    /**\n     * A list constranit.\n     * @template T The type of the value.\n     */\n    var ListConstraint = /** @class */ (function () {\n        function ListConstraint(options) {\n            this.options = options;\n        }\n        ListConstraint.prototype.constrain = function (value) {\n            var opts = this.options;\n            if (opts.length === 0) {\n                return value;\n            }\n            var matched = opts.filter(function (item) {\n                return item.value === value;\n            }).length > 0;\n            return matched ? value : opts[0].value;\n        };\n        return ListConstraint;\n    }());\n\n    /**\n     * @hidden\n     */\n    function boolToString(value) {\n        return String(value);\n    }\n    /**\n     * @hidden\n     */\n    function boolFromUnknown(value) {\n        if (value === 'false') {\n            return false;\n        }\n        return !!value;\n    }\n    /**\n     * @hidden\n     */\n    function BooleanFormatter(value) {\n        return boolToString(value);\n    }\n\n    /**\n     * Compares two primitive values.\n     * @param v1 The value.\n     * @param v2 The another value.\n     * @return true if equal, false otherwise.\n     */\n    function equalsPrimitive(v1, v2) {\n        return v1 === v2;\n    }\n    /**\n     * Writes the primitive value.\n     * @param target The target to be written.\n     * @param value The value to write.\n     */\n    function writePrimitive(target, value) {\n        target.write(value);\n    }\n\n    /**\n     * A number step range constraint.\n     */\n    var StepConstraint = /** @class */ (function () {\n        function StepConstraint(step) {\n            this.step = step;\n        }\n        StepConstraint.prototype.constrain = function (value) {\n            var r = value < 0\n                ? -Math.round(-value / this.step)\n                : Math.round(value / this.step);\n            return r * this.step;\n        };\n        return StepConstraint;\n    }());\n\n    function mapRange(value, start1, end1, start2, end2) {\n        var p = (value - start1) / (end1 - start1);\n        return start2 + p * (end2 - start2);\n    }\n    function getDecimalDigits(value) {\n        var text = String(value.toFixed(10));\n        var frac = text.split('.')[1];\n        return frac.replace(/0+$/, '').length;\n    }\n    function constrainRange(value, min, max) {\n        return Math.min(Math.max(value, min), max);\n    }\n    function loopRange(value, max) {\n        return ((value % max) + max) % max;\n    }\n\n    function normalizeInputParamsOptions(options, convert) {\n        if (Array.isArray(options)) {\n            return options.map(function (item) {\n                return {\n                    text: item.text,\n                    value: convert(item.value),\n                };\n            });\n        }\n        var textToValueMap = options;\n        var texts = Object.keys(textToValueMap);\n        return texts.reduce(function (result, text) {\n            return result.concat({\n                text: text,\n                value: convert(textToValueMap[text]),\n            });\n        }, []);\n    }\n    /**\n     * Tries to create a list constraint.\n     * @template T The type of the raw value.\n     * @param params The input parameters object.\n     * @param convert The converter that converts unknown value into T.\n     * @return A constraint or null if not found.\n     */\n    function createListConstraint(params, convert) {\n        if ('options' in params && params.options !== undefined) {\n            return new ListConstraint(normalizeInputParamsOptions(params.options, convert));\n        }\n        return null;\n    }\n    /**\n     * @hidden\n     */\n    function findListItems(constraint) {\n        var c = constraint\n            ? findConstraint(constraint, ListConstraint)\n            : null;\n        if (!c) {\n            return null;\n        }\n        return c.options;\n    }\n    function findStep(constraint) {\n        var c = constraint ? findConstraint(constraint, StepConstraint) : null;\n        if (!c) {\n            return null;\n        }\n        return c.step;\n    }\n    /**\n     * @hidden\n     */\n    function getSuitableDecimalDigits(constraint, rawValue) {\n        var sc = constraint && findConstraint(constraint, StepConstraint);\n        if (sc) {\n            return getDecimalDigits(sc.step);\n        }\n        return Math.max(getDecimalDigits(rawValue), 2);\n    }\n    /**\n     * @hidden\n     */\n    function getBaseStep(constraint) {\n        var step = findStep(constraint);\n        return step !== null && step !== void 0 ? step : 1;\n    }\n\n    var className$4 = ClassName('lst');\n    /**\n     * @hidden\n     */\n    var ListView = /** @class */ (function () {\n        function ListView(doc, config) {\n            var _this = this;\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$4());\n            this.stringifyValue_ = config.stringifyValue;\n            var selectElem = doc.createElement('select');\n            selectElem.classList.add(className$4('s'));\n            config.options.forEach(function (item, index) {\n                var optionElem = doc.createElement('option');\n                optionElem.dataset.index = String(index);\n                optionElem.textContent = item.text;\n                optionElem.value = _this.stringifyValue_(item.value);\n                selectElem.appendChild(optionElem);\n            });\n            this.element.appendChild(selectElem);\n            this.selectElement = selectElem;\n            var markElem = doc.createElement('div');\n            markElem.classList.add(className$4('m'));\n            this.element.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update();\n        }\n        ListView.prototype.update = function () {\n            this.selectElement.value = this.stringifyValue_(this.value.rawValue);\n        };\n        ListView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return ListView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ListController = /** @class */ (function () {\n        function ListController(doc, config) {\n            this.onSelectChange_ = this.onSelectChange_.bind(this);\n            this.value = config.value;\n            this.listItems_ = config.listItems;\n            this.view = new ListView(doc, {\n                options: this.listItems_,\n                stringifyValue: config.stringifyValue,\n                value: this.value,\n            });\n            this.view.selectElement.addEventListener('change', this.onSelectChange_);\n        }\n        ListController.prototype.onSelectChange_ = function (e) {\n            var selectElem = forceCast(e.currentTarget);\n            var optElem = selectElem.selectedOptions.item(0);\n            if (!optElem) {\n                return;\n            }\n            var itemIndex = Number(optElem.dataset.index);\n            this.value.rawValue = this.listItems_[itemIndex].value;\n            this.view.update();\n        };\n        return ListController;\n    }());\n\n    var className$5 = ClassName('ckb');\n    /**\n     * @hidden\n     */\n    var CheckboxView = /** @class */ (function () {\n        function CheckboxView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$5());\n            var labelElem = doc.createElement('label');\n            labelElem.classList.add(className$5('l'));\n            this.element.appendChild(labelElem);\n            var inputElem = doc.createElement('input');\n            inputElem.classList.add(className$5('i'));\n            inputElem.type = 'checkbox';\n            labelElem.appendChild(inputElem);\n            this.inputElement = inputElem;\n            var markElem = doc.createElement('div');\n            markElem.classList.add(className$5('m'));\n            labelElem.appendChild(markElem);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update();\n        }\n        CheckboxView.prototype.update = function () {\n            this.inputElement.checked = this.value.rawValue;\n        };\n        CheckboxView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return CheckboxView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var CheckboxController = /** @class */ (function () {\n        function CheckboxController(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.value = config.value;\n            this.view = new CheckboxView(doc, {\n                value: this.value,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        CheckboxController.prototype.onInputChange_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            this.value.rawValue = inputElem.checked;\n            this.view.update();\n        };\n        return CheckboxController;\n    }());\n\n    function createConstraint(params) {\n        var constraints = [];\n        var lc = createListConstraint(params, boolFromUnknown);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createController$2(doc, value) {\n        var _a;\n        var c = value.constraint;\n        if (c && findConstraint(c, ListConstraint)) {\n            return new ListController(doc, {\n                listItems: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                stringifyValue: boolToString,\n                value: value,\n            });\n        }\n        return new CheckboxController(doc, {\n            value: value,\n        });\n    }\n    /**\n     * @hidden\n     */\n    var BooleanInputPlugin = {\n        id: 'input-bool',\n        accept: function (value) { return (typeof value === 'boolean' ? value : null); },\n        binding: {\n            reader: function (_args) { return boolFromUnknown; },\n            constraint: function (args) { return createConstraint(args.params); },\n            equals: equalsPrimitive,\n            writer: function (_args) { return writePrimitive; },\n        },\n        controller: function (args) {\n            return createController$2(args.document, args.value);\n        },\n    };\n\n    var className$6 = ClassName('txt');\n    /**\n     * @hidden\n     */\n    var TextView = /** @class */ (function () {\n        function TextView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$6());\n            var inputElem = doc.createElement('input');\n            inputElem.classList.add(className$6('i'));\n            inputElem.type = 'text';\n            this.element.appendChild(inputElem);\n            this.inputElement = inputElem;\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update();\n        }\n        TextView.prototype.update = function () {\n            this.inputElement.value = this.formatter_(this.value.rawValue);\n        };\n        TextView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return TextView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var TextController = /** @class */ (function () {\n        function TextController(doc, config) {\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.parser_ = config.parser;\n            this.value = config.value;\n            this.view = new TextView(doc, {\n                formatter: config.formatter,\n                value: this.value,\n            });\n            this.view.inputElement.addEventListener('change', this.onInputChange_);\n        }\n        TextController.prototype.onInputChange_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            var value = inputElem.value;\n            var parsedValue = this.parser_(value);\n            if (!isEmpty(parsedValue)) {\n                this.value.rawValue = parsedValue;\n            }\n            this.view.update();\n        };\n        return TextController;\n    }());\n\n    var className$7 = ClassName('cswtxt');\n    /**\n     * @hidden\n     */\n    var ColorSwatchTextView = /** @class */ (function () {\n        function ColorSwatchTextView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$7());\n            var swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$7('s'));\n            this.swatchView_ = config.swatchView;\n            swatchElem.appendChild(this.swatchView_.element);\n            this.element.appendChild(swatchElem);\n            var textElem = doc.createElement('div');\n            textElem.classList.add(className$7('t'));\n            this.textView = config.textView;\n            textElem.appendChild(this.textView.element);\n            this.element.appendChild(textElem);\n        }\n        Object.defineProperty(ColorSwatchTextView.prototype, \"value\", {\n            get: function () {\n                return this.textView.value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ColorSwatchTextView.prototype.update = function () {\n            this.swatchView_.update();\n            this.textView.update();\n        };\n        return ColorSwatchTextView;\n    }());\n\n    var PickedColor = /** @class */ (function () {\n        function PickedColor(value) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.mode_ = value.rawValue.mode;\n            this.value = value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.emitter = new Emitter();\n        }\n        Object.defineProperty(PickedColor.prototype, \"mode\", {\n            get: function () {\n                return this.mode_;\n            },\n            set: function (mode) {\n                if (this.mode_ === mode) {\n                    return;\n                }\n                this.mode_ = mode;\n                this.emitter.emit('change', {\n                    propertyName: 'mode',\n                    sender: this,\n                });\n            },\n            enumerable: false,\n            configurable: true\n        });\n        PickedColor.prototype.onValueChange_ = function () {\n            this.emitter.emit('change', {\n                propertyName: 'value',\n                sender: this,\n            });\n        };\n        return PickedColor;\n    }());\n\n    /**\n     * @hidden\n     */\n    function parseNumber(text) {\n        var num = parseFloat(text);\n        if (isNaN(num)) {\n            return null;\n        }\n        return num;\n    }\n    /**\n     * @hidden\n     */\n    function numberFromUnknown(value) {\n        if (typeof value === 'number') {\n            return value;\n        }\n        if (typeof value === 'string') {\n            var pv = parseNumber(value);\n            if (!isEmpty(pv)) {\n                return pv;\n            }\n        }\n        return 0;\n    }\n    /**\n     * @hidden\n     */\n    function numberToString(value) {\n        return String(value);\n    }\n    /**\n     * @hidden\n     */\n    function createNumberFormatter(digits) {\n        return function (value) {\n            return value.toFixed(Math.max(Math.min(digits, 20), 0));\n        };\n    }\n\n    var innerFormatter = createNumberFormatter(0);\n    /**\n     * @hidden\n     */\n    function formatPercentage(value) {\n        return innerFormatter(value) + '%';\n    }\n\n    function rgbToHsl(r, g, b) {\n        var rp = constrainRange(r / 255, 0, 1);\n        var gp = constrainRange(g / 255, 0, 1);\n        var bp = constrainRange(b / 255, 0, 1);\n        var cmax = Math.max(rp, gp, bp);\n        var cmin = Math.min(rp, gp, bp);\n        var c = cmax - cmin;\n        var h = 0;\n        var s = 0;\n        var l = (cmin + cmax) / 2;\n        if (c !== 0) {\n            s = l > 0.5 ? c / (2 - cmin - cmax) : c / (cmax + cmin);\n            if (rp === cmax) {\n                h = (gp - bp) / c;\n            }\n            else if (gp === cmax) {\n                h = 2 + (bp - rp) / c;\n            }\n            else {\n                h = 4 + (rp - gp) / c;\n            }\n            h = h / 6 + (h < 0 ? 1 : 0);\n        }\n        return [h * 360, s * 100, l * 100];\n    }\n    function hslToRgb(h, s, l) {\n        var _a, _b, _c, _d, _e, _f;\n        var hp = ((h % 360) + 360) % 360;\n        var sp = constrainRange(s / 100, 0, 1);\n        var lp = constrainRange(l / 100, 0, 1);\n        var c = (1 - Math.abs(2 * lp - 1)) * sp;\n        var x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        var m = lp - c / 2;\n        var rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            _a = [c, x, 0], rp = _a[0], gp = _a[1], bp = _a[2];\n        }\n        else if (hp >= 60 && hp < 120) {\n            _b = [x, c, 0], rp = _b[0], gp = _b[1], bp = _b[2];\n        }\n        else if (hp >= 120 && hp < 180) {\n            _c = [0, c, x], rp = _c[0], gp = _c[1], bp = _c[2];\n        }\n        else if (hp >= 180 && hp < 240) {\n            _d = [0, x, c], rp = _d[0], gp = _d[1], bp = _d[2];\n        }\n        else if (hp >= 240 && hp < 300) {\n            _e = [x, 0, c], rp = _e[0], gp = _e[1], bp = _e[2];\n        }\n        else {\n            _f = [c, 0, x], rp = _f[0], gp = _f[1], bp = _f[2];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    function rgbToHsv(r, g, b) {\n        var rp = constrainRange(r / 255, 0, 1);\n        var gp = constrainRange(g / 255, 0, 1);\n        var bp = constrainRange(b / 255, 0, 1);\n        var cmax = Math.max(rp, gp, bp);\n        var cmin = Math.min(rp, gp, bp);\n        var d = cmax - cmin;\n        var h;\n        if (d === 0) {\n            h = 0;\n        }\n        else if (cmax === rp) {\n            h = 60 * (((((gp - bp) / d) % 6) + 6) % 6);\n        }\n        else if (cmax === gp) {\n            h = 60 * ((bp - rp) / d + 2);\n        }\n        else {\n            h = 60 * ((rp - gp) / d + 4);\n        }\n        var s = cmax === 0 ? 0 : d / cmax;\n        var v = cmax;\n        return [h, s * 100, v * 100];\n    }\n    /**\n     * @hidden\n     */\n    function hsvToRgb(h, s, v) {\n        var _a, _b, _c, _d, _e, _f;\n        var hp = loopRange(h, 360);\n        var sp = constrainRange(s / 100, 0, 1);\n        var vp = constrainRange(v / 100, 0, 1);\n        var c = vp * sp;\n        var x = c * (1 - Math.abs(((hp / 60) % 2) - 1));\n        var m = vp - c;\n        var rp, gp, bp;\n        if (hp >= 0 && hp < 60) {\n            _a = [c, x, 0], rp = _a[0], gp = _a[1], bp = _a[2];\n        }\n        else if (hp >= 60 && hp < 120) {\n            _b = [x, c, 0], rp = _b[0], gp = _b[1], bp = _b[2];\n        }\n        else if (hp >= 120 && hp < 180) {\n            _c = [0, c, x], rp = _c[0], gp = _c[1], bp = _c[2];\n        }\n        else if (hp >= 180 && hp < 240) {\n            _d = [0, x, c], rp = _d[0], gp = _d[1], bp = _d[2];\n        }\n        else if (hp >= 240 && hp < 300) {\n            _e = [x, 0, c], rp = _e[0], gp = _e[1], bp = _e[2];\n        }\n        else {\n            _f = [c, 0, x], rp = _f[0], gp = _f[1], bp = _f[2];\n        }\n        return [(rp + m) * 255, (gp + m) * 255, (bp + m) * 255];\n    }\n    /**\n     * @hidden\n     */\n    function removeAlphaComponent(comps) {\n        return [comps[0], comps[1], comps[2]];\n    }\n    /**\n     * @hidden\n     */\n    function appendAlphaComponent(comps, alpha) {\n        return [comps[0], comps[1], comps[2], alpha];\n    }\n    var MODE_CONVERTER_MAP = {\n        hsl: {\n            hsl: function (h, s, l) { return [h, s, l]; },\n            hsv: function (h, s, l) {\n                var _a = hslToRgb(h, s, l), r = _a[0], g = _a[1], b = _a[2];\n                return rgbToHsv(r, g, b);\n            },\n            rgb: hslToRgb,\n        },\n        hsv: {\n            hsl: function (h, s, v) {\n                var _a = hsvToRgb(h, s, v), r = _a[0], g = _a[1], b = _a[2];\n                return rgbToHsl(r, g, b);\n            },\n            hsv: function (h, s, v) { return [h, s, v]; },\n            rgb: hsvToRgb,\n        },\n        rgb: {\n            hsl: rgbToHsl,\n            hsv: rgbToHsv,\n            rgb: function (r, g, b) { return [r, g, b]; },\n        },\n    };\n    /**\n     * @hidden\n     */\n    function convertColorMode(components, fromMode, toMode) {\n        var _a;\n        return (_a = MODE_CONVERTER_MAP[fromMode])[toMode].apply(_a, components);\n    }\n\n    var CONSTRAINT_MAP = {\n        hsl: function (comps) {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        hsv: function (comps) {\n            var _a;\n            return [\n                loopRange(comps[0], 360),\n                constrainRange(comps[1], 0, 100),\n                constrainRange(comps[2], 0, 100),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n        rgb: function (comps) {\n            var _a;\n            return [\n                constrainRange(comps[0], 0, 255),\n                constrainRange(comps[1], 0, 255),\n                constrainRange(comps[2], 0, 255),\n                constrainRange((_a = comps[3]) !== null && _a !== void 0 ? _a : 1, 0, 1),\n            ];\n        },\n    };\n    function isRgbColorComponent(obj, key) {\n        if (typeof obj !== 'object' || isEmpty(obj)) {\n            return false;\n        }\n        return key in obj && typeof obj[key] === 'number';\n    }\n    /**\n     * @hidden\n     */\n    var Color = /** @class */ (function () {\n        function Color(comps, mode) {\n            this.mode_ = mode;\n            this.comps_ = CONSTRAINT_MAP[mode](comps);\n        }\n        Color.black = function () {\n            return new Color([0, 0, 0], 'rgb');\n        };\n        Color.fromObject = function (obj) {\n            var comps = 'a' in obj ? [obj.r, obj.g, obj.b, obj.a] : [obj.r, obj.g, obj.b];\n            return new Color(comps, 'rgb');\n        };\n        Color.toRgbaObject = function (color) {\n            return color.toRgbaObject();\n        };\n        Color.isRgbColorObject = function (obj) {\n            return (isRgbColorComponent(obj, 'r') &&\n                isRgbColorComponent(obj, 'g') &&\n                isRgbColorComponent(obj, 'b'));\n        };\n        Color.isRgbaColorObject = function (obj) {\n            return this.isRgbColorObject(obj) && isRgbColorComponent(obj, 'a');\n        };\n        Color.isColorObject = function (obj) {\n            return this.isRgbColorObject(obj);\n        };\n        Color.equals = function (v1, v2) {\n            if (v1.mode_ !== v2.mode_) {\n                return false;\n            }\n            var comps1 = v1.comps_;\n            var comps2 = v2.comps_;\n            for (var i = 0; i < comps1.length; i++) {\n                if (comps1[i] !== comps2[i]) {\n                    return false;\n                }\n            }\n            return true;\n        };\n        Object.defineProperty(Color.prototype, \"mode\", {\n            get: function () {\n                return this.mode_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Color.prototype.getComponents = function (opt_mode) {\n            return appendAlphaComponent(convertColorMode(removeAlphaComponent(this.comps_), this.mode_, opt_mode || this.mode_), this.comps_[3]);\n        };\n        Color.prototype.toRgbaObject = function () {\n            var rgbComps = this.getComponents('rgb');\n            return {\n                r: rgbComps[0],\n                g: rgbComps[1],\n                b: rgbComps[2],\n                a: rgbComps[3],\n            };\n        };\n        return Color;\n    }());\n\n    function parseCssNumberOrPercentage(text, maxValue) {\n        var m = text.match(/^(.+)%$/);\n        if (!m) {\n            return Math.min(parseFloat(text), maxValue);\n        }\n        return Math.min(parseFloat(m[1]) * 0.01 * maxValue, maxValue);\n    }\n    var ANGLE_TO_DEG_MAP = {\n        deg: function (angle) { return angle; },\n        grad: function (angle) { return (angle * 360) / 400; },\n        rad: function (angle) { return (angle * 360) / (2 * Math.PI); },\n        turn: function (angle) { return angle * 360; },\n    };\n    function parseCssNumberOrAngle(text) {\n        var m = text.match(/^([0-9.]+?)(deg|grad|rad|turn)$/);\n        if (!m) {\n            return parseFloat(text);\n        }\n        var angle = parseFloat(m[1]);\n        var unit = m[2];\n        return ANGLE_TO_DEG_MAP[unit](angle);\n    }\n    var NOTATION_TO_PARSER_MAP = {\n        'func.rgb': function (text) {\n            var m = text.match(/^rgb\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            var comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.rgba': function (text) {\n            var m = text.match(/^rgba\\(\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            var comps = [\n                parseCssNumberOrPercentage(m[1], 255),\n                parseCssNumberOrPercentage(m[2], 255),\n                parseCssNumberOrPercentage(m[3], 255),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'rgb');\n        },\n        'func.hsl': function (text) {\n            var m = text.match(/^hsl\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            var comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n            ];\n            if (isNaN(comps[0]) || isNaN(comps[1]) || isNaN(comps[2])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'func.hsla': function (text) {\n            var m = text.match(/^hsla\\(\\s*([0-9A-Fa-f.]+(?:deg|grad|rad|turn)?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*,\\s*([0-9A-Fa-f.]+%?)\\s*\\)$/);\n            if (!m) {\n                return null;\n            }\n            var comps = [\n                parseCssNumberOrAngle(m[1]),\n                parseCssNumberOrPercentage(m[2], 100),\n                parseCssNumberOrPercentage(m[3], 100),\n                parseCssNumberOrPercentage(m[4], 1),\n            ];\n            if (isNaN(comps[0]) ||\n                isNaN(comps[1]) ||\n                isNaN(comps[2]) ||\n                isNaN(comps[3])) {\n                return null;\n            }\n            return new Color(comps, 'hsl');\n        },\n        'hex.rgb': function (text) {\n            var mRrggbb = text.match(/^#([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1] + mRrggbb[1], 16),\n                    parseInt(mRrggbb[2] + mRrggbb[2], 16),\n                    parseInt(mRrggbb[3] + mRrggbb[3], 16),\n                ], 'rgb');\n            }\n            var mRgb = text.match(/^#([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRgb) {\n                return new Color([parseInt(mRgb[1], 16), parseInt(mRgb[2], 16), parseInt(mRgb[3], 16)], 'rgb');\n            }\n            return null;\n        },\n        'hex.rgba': function (text) {\n            var mRrggbb = text.match(/^#?([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])([0-9A-Fa-f])$/);\n            if (mRrggbb) {\n                return new Color([\n                    parseInt(mRrggbb[1] + mRrggbb[1], 16),\n                    parseInt(mRrggbb[2] + mRrggbb[2], 16),\n                    parseInt(mRrggbb[3] + mRrggbb[3], 16),\n                    mapRange(parseInt(mRrggbb[4] + mRrggbb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            var mRgb = text.match(/^#?([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})([0-9A-Fa-f]{2})$/);\n            if (mRgb) {\n                return new Color([\n                    parseInt(mRgb[1], 16),\n                    parseInt(mRgb[2], 16),\n                    parseInt(mRgb[3], 16),\n                    mapRange(parseInt(mRgb[4], 16), 0, 255, 0, 1),\n                ], 'rgb');\n            }\n            return null;\n        },\n    };\n    /**\n     * @hidden\n     */\n    function getColorNotation(text) {\n        var notations = Object.keys(NOTATION_TO_PARSER_MAP);\n        return notations.reduce(function (result, notation) {\n            if (result) {\n                return result;\n            }\n            var subparser = NOTATION_TO_PARSER_MAP[notation];\n            return subparser(text) ? notation : null;\n        }, null);\n    }\n    /**\n     * @hidden\n     */\n    var CompositeColorParser = function (text) {\n        var notation = getColorNotation(text);\n        return notation ? NOTATION_TO_PARSER_MAP[notation](text) : null;\n    };\n    function hasAlphaComponent(notation) {\n        return (notation === 'func.hsla' ||\n            notation === 'func.rgba' ||\n            notation === 'hex.rgba');\n    }\n    /**\n     * @hidden\n     */\n    function colorFromString(value) {\n        if (typeof value === 'string') {\n            var cv = CompositeColorParser(value);\n            if (cv) {\n                return cv;\n            }\n        }\n        return Color.black();\n    }\n    function zerofill(comp) {\n        var hex = constrainRange(Math.floor(comp), 0, 255).toString(16);\n        return hex.length === 1 ? \"0\" + hex : hex;\n    }\n    /**\n     * @hidden\n     */\n    function colorToHexRgbString(value) {\n        var hexes = removeAlphaComponent(value.getComponents('rgb'))\n            .map(zerofill)\n            .join('');\n        return \"#\" + hexes;\n    }\n    /**\n     * @hidden\n     */\n    function colorToHexRgbaString(value) {\n        var rgbaComps = value.getComponents('rgb');\n        var hexes = [rgbaComps[0], rgbaComps[1], rgbaComps[2], rgbaComps[3] * 255]\n            .map(zerofill)\n            .join('');\n        return \"#\" + hexes;\n    }\n    /**\n     * @hidden\n     */\n    function colorToFunctionalRgbString(value) {\n        var formatter = createNumberFormatter(0);\n        var comps = removeAlphaComponent(value.getComponents('rgb')).map(function (comp) {\n            return formatter(comp);\n        });\n        return \"rgb(\" + comps.join(', ') + \")\";\n    }\n    /**\n     * @hidden\n     */\n    function colorToFunctionalRgbaString(value) {\n        var aFormatter = createNumberFormatter(2);\n        var rgbFormatter = createNumberFormatter(0);\n        var comps = value.getComponents('rgb').map(function (comp, index) {\n            var formatter = index === 3 ? aFormatter : rgbFormatter;\n            return formatter(comp);\n        });\n        return \"rgba(\" + comps.join(', ') + \")\";\n    }\n    /**\n     * @hidden\n     */\n    function colorToFunctionalHslString(value) {\n        var formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n        ];\n        var comps = removeAlphaComponent(value.getComponents('hsl')).map(function (comp, index) { return formatters[index](comp); });\n        return \"hsl(\" + comps.join(', ') + \")\";\n    }\n    /**\n     * @hidden\n     */\n    function colorToFunctionalHslaString(value) {\n        var formatters = [\n            createNumberFormatter(0),\n            formatPercentage,\n            formatPercentage,\n            createNumberFormatter(2),\n        ];\n        var comps = value\n            .getComponents('hsl')\n            .map(function (comp, index) { return formatters[index](comp); });\n        return \"hsla(\" + comps.join(', ') + \")\";\n    }\n    var NOTATION_TO_STRINGIFIER_MAP = {\n        'func.hsl': colorToFunctionalHslString,\n        'func.hsla': colorToFunctionalHslaString,\n        'func.rgb': colorToFunctionalRgbString,\n        'func.rgba': colorToFunctionalRgbaString,\n        'hex.rgb': colorToHexRgbString,\n        'hex.rgba': colorToHexRgbaString,\n    };\n    function getColorStringifier(notation) {\n        return NOTATION_TO_STRINGIFIER_MAP[notation];\n    }\n\n    var className$8 = ClassName('csw');\n    /**\n     * @hidden\n     */\n    var ColorSwatchView = /** @class */ (function () {\n        function ColorSwatchView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$8());\n            var swatchElem = doc.createElement('div');\n            swatchElem.classList.add(className$8('sw'));\n            this.element.appendChild(swatchElem);\n            this.swatchElem_ = swatchElem;\n            var buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$8('b'));\n            this.element.appendChild(buttonElem);\n            this.buttonElement = buttonElem;\n            var pickerElem = doc.createElement('div');\n            pickerElem.classList.add(className$8('p'));\n            this.pickerView_ = config.pickerView;\n            pickerElem.appendChild(this.pickerView_.element);\n            this.element.appendChild(pickerElem);\n            this.update();\n        }\n        ColorSwatchView.prototype.update = function () {\n            var value = this.value.rawValue;\n            this.swatchElem_.style.backgroundColor = colorToHexRgbaString(value);\n        };\n        ColorSwatchView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return ColorSwatchView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Foldable = /** @class */ (function () {\n        function Foldable() {\n            this.emitter = new Emitter();\n            this.expanded_ = false;\n        }\n        Object.defineProperty(Foldable.prototype, \"expanded\", {\n            get: function () {\n                return this.expanded_;\n            },\n            set: function (expanded) {\n                var changed = this.expanded_ !== expanded;\n                if (changed) {\n                    this.expanded_ = expanded;\n                    this.emitter.emit('change', {\n                        sender: this,\n                    });\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return Foldable;\n    }());\n\n    /**\n     * @hidden\n     */\n    function connect(_a) {\n        var primary = _a.primary, secondary = _a.secondary, forward = _a.forward, backward = _a.backward;\n        primary.emitter.on('change', function () {\n            secondary.rawValue = forward(primary, secondary);\n        });\n        secondary.emitter.on('change', function () {\n            primary.rawValue = backward(primary, secondary);\n        });\n        secondary.rawValue = forward(primary, secondary);\n    }\n\n    /**\n     * @hidden\n     */\n    function getStepForKey(baseStep, keys) {\n        var step = baseStep * (keys.altKey ? 0.1 : 1) * (keys.shiftKey ? 10 : 1);\n        if (keys.upKey) {\n            return +step;\n        }\n        else if (keys.downKey) {\n            return -step;\n        }\n        return 0;\n    }\n    /**\n     * @hidden\n     */\n    function getVerticalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.keyCode === 40,\n            shiftKey: ev.shiftKey,\n            upKey: ev.keyCode === 38,\n        };\n    }\n    /**\n     * @hidden\n     */\n    function getHorizontalStepKeys(ev) {\n        return {\n            altKey: ev.altKey,\n            downKey: ev.keyCode === 37,\n            shiftKey: ev.shiftKey,\n            upKey: ev.keyCode === 39,\n        };\n    }\n    /**\n     * @hidden\n     */\n    function isVerticalArrowKey(keyCode) {\n        return keyCode === 38 || keyCode === 40;\n    }\n    /**\n     * @hidden\n     */\n    function isArrowKey(keyCode) {\n        return isVerticalArrowKey(keyCode) || keyCode === 37 || keyCode === 39;\n    }\n\n    /**\n     * @hidden\n     */\n    var NumberTextController = /** @class */ (function (_super) {\n        __extends(NumberTextController, _super);\n        function NumberTextController(doc, config) {\n            var _this = _super.call(this, doc, config) || this;\n            _this.onInputKeyDown_ = _this.onInputKeyDown_.bind(_this);\n            _this.baseStep_ = config.baseStep;\n            _this.view.inputElement.addEventListener('keydown', _this.onInputKeyDown_);\n            return _this;\n        }\n        NumberTextController.prototype.onInputKeyDown_ = function (e) {\n            var step = getStepForKey(this.baseStep_, getVerticalStepKeys(e));\n            if (step !== 0) {\n                this.value.rawValue += step;\n                this.view.update();\n            }\n        };\n        return NumberTextController;\n    }(TextController));\n\n    var className$9 = ClassName('clp');\n    /**\n     * @hidden\n     */\n    var ColorPickerView = /** @class */ (function () {\n        function ColorPickerView(doc, config) {\n            this.alphaViews_ = null;\n            this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.pickedColor = config.pickedColor;\n            this.pickedColor.value.emitter.on('change', this.onValueChange_);\n            this.foldable = config.foldable;\n            this.foldable.emitter.on('change', this.onFoldableChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$9());\n            var hsvElem = doc.createElement('div');\n            hsvElem.classList.add(className$9('hsv'));\n            var svElem = doc.createElement('div');\n            svElem.classList.add(className$9('sv'));\n            this.svPaletteView_ = config.svPaletteView;\n            svElem.appendChild(this.svPaletteView_.element);\n            hsvElem.appendChild(svElem);\n            var hElem = doc.createElement('div');\n            hElem.classList.add(className$9('h'));\n            this.hPaletteView_ = config.hPaletteView;\n            hElem.appendChild(this.hPaletteView_.element);\n            hsvElem.appendChild(hElem);\n            this.element.appendChild(hsvElem);\n            var rgbElem = doc.createElement('div');\n            rgbElem.classList.add(className$9('rgb'));\n            this.compTextsView_ = config.componentTextsView;\n            rgbElem.appendChild(this.compTextsView_.element);\n            this.element.appendChild(rgbElem);\n            if (config.alphaViews) {\n                this.alphaViews_ = {\n                    palette: config.alphaViews.palette,\n                    text: config.alphaViews.text,\n                };\n                var aElem = doc.createElement('div');\n                aElem.classList.add(className$9('a'));\n                var apElem = doc.createElement('div');\n                apElem.classList.add(className$9('ap'));\n                apElem.appendChild(this.alphaViews_.palette.element);\n                aElem.appendChild(apElem);\n                var atElem = doc.createElement('div');\n                atElem.classList.add(className$9('at'));\n                atElem.appendChild(this.alphaViews_.text.element);\n                aElem.appendChild(atElem);\n                this.element.appendChild(aElem);\n            }\n            this.update();\n        }\n        Object.defineProperty(ColorPickerView.prototype, \"allFocusableElements\", {\n            get: function () {\n                var elems = __spreadArrays([\n                    this.svPaletteView_.element,\n                    this.hPaletteView_.element\n                ], this.compTextsView_.inputElements);\n                if (this.alphaViews_) {\n                    elems.push(this.alphaViews_.palette.element, this.alphaViews_.text.inputElement);\n                }\n                return forceCast(elems);\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ColorPickerView.prototype, \"value\", {\n            get: function () {\n                return this.pickedColor.value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ColorPickerView.prototype.update = function () {\n            if (this.foldable.expanded) {\n                this.element.classList.add(className$9(undefined, 'expanded'));\n            }\n            else {\n                this.element.classList.remove(className$9(undefined, 'expanded'));\n            }\n        };\n        ColorPickerView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        ColorPickerView.prototype.onFoldableChange_ = function () {\n            this.update();\n        };\n        return ColorPickerView;\n    }());\n\n    function computeOffset(ev, elem) {\n        // NOTE: OffsetX/Y should be computed from page and window properties to capture mouse events\n        var win = elem.ownerDocument.defaultView;\n        var rect = elem.getBoundingClientRect();\n        return [\n            ev.pageX - (((win && win.scrollX) || 0) + rect.left),\n            ev.pageY - (((win && win.scrollY) || 0) + rect.top),\n        ];\n    }\n    /**\n     * A utility class to handle both mouse and touch events.\n     */\n    var PointerHandler = /** @class */ (function () {\n        function PointerHandler(element) {\n            this.onDocumentMouseMove_ = this.onDocumentMouseMove_.bind(this);\n            this.onDocumentMouseUp_ = this.onDocumentMouseUp_.bind(this);\n            this.onMouseDown_ = this.onMouseDown_.bind(this);\n            this.onTouchMove_ = this.onTouchMove_.bind(this);\n            this.onTouchStart_ = this.onTouchStart_.bind(this);\n            this.element = element;\n            this.emitter = new Emitter();\n            this.pressed_ = false;\n            var doc = this.element.ownerDocument;\n            if (supportsTouch(doc)) {\n                element.addEventListener('touchstart', this.onTouchStart_);\n                element.addEventListener('touchmove', this.onTouchMove_);\n            }\n            else {\n                element.addEventListener('mousedown', this.onMouseDown_);\n                doc.addEventListener('mousemove', this.onDocumentMouseMove_);\n                doc.addEventListener('mouseup', this.onDocumentMouseUp_);\n            }\n        }\n        PointerHandler.prototype.computePosition_ = function (offsetX, offsetY) {\n            var rect = this.element.getBoundingClientRect();\n            return {\n                bounds: {\n                    width: rect.width,\n                    height: rect.height,\n                },\n                x: offsetX,\n                y: offsetY,\n            };\n        };\n        PointerHandler.prototype.onMouseDown_ = function (e) {\n            var _a;\n            // Prevent native text selection\n            e.preventDefault();\n            (_a = e.currentTarget) === null || _a === void 0 ? void 0 : _a.focus();\n            this.pressed_ = true;\n            this.emitter.emit('down', {\n                data: this.computePosition_.apply(this, computeOffset(e, this.element)),\n                sender: this,\n            });\n        };\n        PointerHandler.prototype.onDocumentMouseMove_ = function (e) {\n            if (!this.pressed_) {\n                return;\n            }\n            this.emitter.emit('move', {\n                data: this.computePosition_.apply(this, computeOffset(e, this.element)),\n                sender: this,\n            });\n        };\n        PointerHandler.prototype.onDocumentMouseUp_ = function (e) {\n            if (!this.pressed_) {\n                return;\n            }\n            this.pressed_ = false;\n            this.emitter.emit('up', {\n                data: this.computePosition_.apply(this, computeOffset(e, this.element)),\n                sender: this,\n            });\n        };\n        PointerHandler.prototype.onTouchStart_ = function (e) {\n            // Prevent native page scroll\n            e.preventDefault();\n            var touch = e.targetTouches[0];\n            var rect = this.element.getBoundingClientRect();\n            this.emitter.emit('down', {\n                data: this.computePosition_(touch.clientX - rect.left, touch.clientY - rect.top),\n                sender: this,\n            });\n        };\n        PointerHandler.prototype.onTouchMove_ = function (e) {\n            var touch = e.targetTouches[0];\n            var rect = this.element.getBoundingClientRect();\n            this.emitter.emit('move', {\n                data: this.computePosition_(touch.clientX - rect.left, touch.clientY - rect.top),\n                sender: this,\n            });\n        };\n        return PointerHandler;\n    }());\n\n    /**\n     * @hidden\n     */\n    function getBaseStepForColor(forAlpha) {\n        return forAlpha ? 0.1 : 1;\n    }\n\n    var className$a = ClassName('apl');\n    /**\n     * @hidden\n     */\n    var APaletteView = /** @class */ (function () {\n        function APaletteView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$a());\n            this.element.tabIndex = 0;\n            var barElem = doc.createElement('div');\n            barElem.classList.add(className$a('b'));\n            this.element.appendChild(barElem);\n            var colorElem = doc.createElement('div');\n            colorElem.classList.add(className$a('c'));\n            barElem.appendChild(colorElem);\n            this.colorElem_ = colorElem;\n            var markerElem = doc.createElement('div');\n            markerElem.classList.add(className$a('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            var previewElem = doc.createElement('div');\n            previewElem.classList.add(className$a('p'));\n            this.markerElem_.appendChild(previewElem);\n            this.previewElem_ = previewElem;\n            this.update();\n        }\n        APaletteView.prototype.update = function () {\n            var c = this.value.rawValue;\n            var rgbaComps = c.getComponents('rgb');\n            var leftColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 0], 'rgb');\n            var rightColor = new Color([rgbaComps[0], rgbaComps[1], rgbaComps[2], 255], 'rgb');\n            var gradientComps = [\n                'to right',\n                colorToFunctionalRgbaString(leftColor),\n                colorToFunctionalRgbaString(rightColor),\n            ];\n            this.colorElem_.style.background = \"linear-gradient(\" + gradientComps.join(',') + \")\";\n            this.previewElem_.style.backgroundColor = colorToFunctionalRgbaString(c);\n            var left = mapRange(rgbaComps[3], 0, 1, 0, 100);\n            this.markerElem_.style.left = left + \"%\";\n        };\n        APaletteView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return APaletteView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var APaletteController = /** @class */ (function () {\n        function APaletteController(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.view = new APaletteView(doc, {\n                value: this.value,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        APaletteController.prototype.handlePointerEvent_ = function (d) {\n            var alpha = d.x / d.bounds.width;\n            var c = this.value.rawValue;\n            var _a = c.getComponents('hsv'), h = _a[0], s = _a[1], v = _a[2];\n            this.value.rawValue = new Color([h, s, v, alpha], 'hsv');\n            this.view.update();\n        };\n        APaletteController.prototype.onPointerDown_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        APaletteController.prototype.onPointerMove_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        APaletteController.prototype.onPointerUp_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        APaletteController.prototype.onKeyDown_ = function (ev) {\n            var step = getStepForKey(getBaseStepForColor(true), getHorizontalStepKeys(ev));\n            var c = this.value.rawValue;\n            var _a = c.getComponents('hsv'), h = _a[0], s = _a[1], v = _a[2], a = _a[3];\n            this.value.rawValue = new Color([h, s, v, a + step], 'hsv');\n        };\n        return APaletteController;\n    }());\n\n    var className$b = ClassName('cctxts');\n    var FORMATTER = createNumberFormatter(0);\n    function createModeSelectElement(doc) {\n        var selectElem = doc.createElement('select');\n        var items = [\n            { text: 'RGB', value: 'rgb' },\n            { text: 'HSL', value: 'hsl' },\n            { text: 'HSV', value: 'hsv' },\n        ];\n        selectElem.appendChild(items.reduce(function (frag, item) {\n            var optElem = doc.createElement('option');\n            optElem.textContent = item.text;\n            optElem.value = item.value;\n            frag.appendChild(optElem);\n            return frag;\n        }, doc.createDocumentFragment()));\n        return selectElem;\n    }\n    /**\n     * @hidden\n     */\n    var ColorComponentTextsView = /** @class */ (function () {\n        function ColorComponentTextsView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$b());\n            var modeElem = doc.createElement('div');\n            modeElem.classList.add(className$b('m'));\n            this.modeElem_ = createModeSelectElement(doc);\n            this.modeElem_.classList.add(className$b('ms'));\n            modeElem.appendChild(this.modeSelectElement);\n            var modeMarkerElem = doc.createElement('div');\n            modeMarkerElem.classList.add(className$b('mm'));\n            modeElem.appendChild(modeMarkerElem);\n            this.element.appendChild(modeElem);\n            var wrapperElem = doc.createElement('div');\n            wrapperElem.classList.add(className$b('w'));\n            this.element.appendChild(wrapperElem);\n            var inputElems = [0, 1, 2].map(function () {\n                var inputElem = doc.createElement('input');\n                inputElem.classList.add(className$b('i'));\n                inputElem.type = 'text';\n                return inputElem;\n            });\n            inputElems.forEach(function (elem) {\n                wrapperElem.appendChild(elem);\n            });\n            this.inputElems_ = [inputElems[0], inputElems[1], inputElems[2]];\n            this.pickedColor = config.pickedColor;\n            this.pickedColor.emitter.on('change', this.onValueChange_);\n            this.update();\n        }\n        Object.defineProperty(ColorComponentTextsView.prototype, \"modeSelectElement\", {\n            get: function () {\n                return this.modeElem_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ColorComponentTextsView.prototype, \"inputElements\", {\n            get: function () {\n                return this.inputElems_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(ColorComponentTextsView.prototype, \"value\", {\n            get: function () {\n                return this.pickedColor.value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ColorComponentTextsView.prototype.update = function () {\n            var _this = this;\n            this.modeElem_.value = this.pickedColor.mode;\n            var comps = this.pickedColor.value.rawValue.getComponents(this.pickedColor.mode);\n            comps.forEach(function (comp, index) {\n                var inputElem = _this.inputElems_[index];\n                if (!inputElem) {\n                    return;\n                }\n                inputElem.value = FORMATTER(comp);\n            });\n        };\n        ColorComponentTextsView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return ColorComponentTextsView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ColorComponentTextsController = /** @class */ (function () {\n        function ColorComponentTextsController(doc, config) {\n            var _this = this;\n            this.onModeSelectChange_ = this.onModeSelectChange_.bind(this);\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n            this.parser_ = config.parser;\n            this.pickedColor = config.pickedColor;\n            this.view = new ColorComponentTextsView(doc, {\n                pickedColor: this.pickedColor,\n            });\n            this.view.inputElements.forEach(function (inputElem) {\n                inputElem.addEventListener('change', _this.onInputChange_);\n                inputElem.addEventListener('keydown', _this.onInputKeyDown_);\n            });\n            this.view.modeSelectElement.addEventListener('change', this.onModeSelectChange_);\n        }\n        Object.defineProperty(ColorComponentTextsController.prototype, \"value\", {\n            get: function () {\n                return this.pickedColor.value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ColorComponentTextsController.prototype.findIndexOfInputElem_ = function (inputElem) {\n            var inputElems = this.view.inputElements;\n            for (var i = 0; i < inputElems.length; i++) {\n                if (inputElems[i] === inputElem) {\n                    return i;\n                }\n            }\n            return null;\n        };\n        ColorComponentTextsController.prototype.updateComponent_ = function (index, newValue) {\n            var mode = this.pickedColor.mode;\n            var comps = this.value.rawValue.getComponents(mode);\n            var newComps = comps.map(function (comp, i) {\n                return i === index ? newValue : comp;\n            });\n            this.value.rawValue = new Color(newComps, mode);\n            this.view.update();\n        };\n        ColorComponentTextsController.prototype.onInputChange_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            var parsedValue = this.parser_(inputElem.value);\n            if (isEmpty(parsedValue)) {\n                return;\n            }\n            var compIndex = this.findIndexOfInputElem_(inputElem);\n            if (isEmpty(compIndex)) {\n                return;\n            }\n            this.updateComponent_(compIndex, parsedValue);\n        };\n        ColorComponentTextsController.prototype.onInputKeyDown_ = function (e) {\n            var compIndex = this.findIndexOfInputElem_(e.currentTarget);\n            var step = getStepForKey(getBaseStepForColor(compIndex === 3), getVerticalStepKeys(e));\n            if (step === 0) {\n                return;\n            }\n            var inputElem = forceCast(e.currentTarget);\n            var parsedValue = this.parser_(inputElem.value);\n            if (isEmpty(parsedValue)) {\n                return;\n            }\n            if (isEmpty(compIndex)) {\n                return;\n            }\n            this.updateComponent_(compIndex, parsedValue + step);\n        };\n        ColorComponentTextsController.prototype.onModeSelectChange_ = function (ev) {\n            var selectElem = ev.currentTarget;\n            this.pickedColor.mode = selectElem.value;\n        };\n        return ColorComponentTextsController;\n    }());\n\n    var className$c = ClassName('hpl');\n    /**\n     * @hidden\n     */\n    var HPaletteView = /** @class */ (function () {\n        function HPaletteView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$c());\n            this.element.tabIndex = 0;\n            var colorElem = doc.createElement('div');\n            colorElem.classList.add(className$c('c'));\n            this.element.appendChild(colorElem);\n            var markerElem = doc.createElement('div');\n            markerElem.classList.add(className$c('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update();\n        }\n        HPaletteView.prototype.update = function () {\n            var c = this.value.rawValue;\n            var h = c.getComponents('hsv')[0];\n            this.markerElem_.style.backgroundColor = colorToFunctionalRgbString(new Color([h, 100, 100], 'hsv'));\n            var left = mapRange(h, 0, 360, 0, 100);\n            this.markerElem_.style.left = left + \"%\";\n        };\n        HPaletteView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return HPaletteView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var HPaletteController = /** @class */ (function () {\n        function HPaletteController(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.view = new HPaletteView(doc, {\n                value: this.value,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        HPaletteController.prototype.handlePointerEvent_ = function (d) {\n            var hue = mapRange(d.x, 0, d.bounds.width, 0, 360);\n            var c = this.value.rawValue;\n            var _a = c.getComponents('hsv'), s = _a[1], v = _a[2], a = _a[3];\n            this.value.rawValue = new Color([hue, s, v, a], 'hsv');\n            this.view.update();\n        };\n        HPaletteController.prototype.onPointerDown_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        HPaletteController.prototype.onPointerMove_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        HPaletteController.prototype.onPointerUp_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        HPaletteController.prototype.onKeyDown_ = function (ev) {\n            var step = getStepForKey(getBaseStepForColor(false), getHorizontalStepKeys(ev));\n            var c = this.value.rawValue;\n            var _a = c.getComponents('hsv'), h = _a[0], s = _a[1], v = _a[2], a = _a[3];\n            this.value.rawValue = new Color([h + step, s, v, a], 'hsv');\n        };\n        return HPaletteController;\n    }());\n\n    var className$d = ClassName('svp');\n    var CANVAS_RESOL = 64;\n    /**\n     * @hidden\n     */\n    var SvPaletteView = /** @class */ (function () {\n        function SvPaletteView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.value = config.value;\n            this.value.emitter.on('change', this.onValueChange_);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$d());\n            this.element.tabIndex = 0;\n            var canvasElem = doc.createElement('canvas');\n            canvasElem.height = CANVAS_RESOL;\n            canvasElem.width = CANVAS_RESOL;\n            canvasElem.classList.add(className$d('c'));\n            this.element.appendChild(canvasElem);\n            this.canvasElement = canvasElem;\n            var markerElem = doc.createElement('div');\n            markerElem.classList.add(className$d('m'));\n            this.element.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            this.update();\n        }\n        SvPaletteView.prototype.update = function () {\n            var ctx = getCanvasContext(this.canvasElement);\n            if (!ctx) {\n                return;\n            }\n            var c = this.value.rawValue;\n            var hsvComps = c.getComponents('hsv');\n            var width = this.canvasElement.width;\n            var height = this.canvasElement.height;\n            var imgData = ctx.getImageData(0, 0, width, height);\n            var data = imgData.data;\n            for (var iy = 0; iy < height; iy++) {\n                for (var ix = 0; ix < width; ix++) {\n                    var s = mapRange(ix, 0, width, 0, 100);\n                    var v = mapRange(iy, 0, height, 100, 0);\n                    var rgbComps = hsvToRgb(hsvComps[0], s, v);\n                    var i = (iy * width + ix) * 4;\n                    data[i] = rgbComps[0];\n                    data[i + 1] = rgbComps[1];\n                    data[i + 2] = rgbComps[2];\n                    data[i + 3] = 255;\n                }\n            }\n            ctx.putImageData(imgData, 0, 0);\n            var left = mapRange(hsvComps[1], 0, 100, 0, 100);\n            this.markerElem_.style.left = left + \"%\";\n            var top = mapRange(hsvComps[2], 0, 100, 100, 0);\n            this.markerElem_.style.top = top + \"%\";\n        };\n        SvPaletteView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return SvPaletteView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var SvPaletteController = /** @class */ (function () {\n        function SvPaletteController(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.view = new SvPaletteView(doc, {\n                value: this.value,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.element);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n        }\n        SvPaletteController.prototype.handlePointerEvent_ = function (d) {\n            var saturation = mapRange(d.x, 0, d.bounds.width, 0, 100);\n            var value = mapRange(d.y, 0, d.bounds.height, 100, 0);\n            var _a = this.value.rawValue.getComponents('hsv'), h = _a[0], a = _a[3];\n            this.value.rawValue = new Color([h, saturation, value, a], 'hsv');\n            this.view.update();\n        };\n        SvPaletteController.prototype.onPointerDown_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SvPaletteController.prototype.onPointerMove_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SvPaletteController.prototype.onPointerUp_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SvPaletteController.prototype.onKeyDown_ = function (ev) {\n            if (isArrowKey(ev.keyCode)) {\n                ev.preventDefault();\n            }\n            var _a = this.value.rawValue.getComponents('hsv'), h = _a[0], s = _a[1], v = _a[2], a = _a[3];\n            var baseStep = getBaseStepForColor(false);\n            this.value.rawValue = new Color([\n                h,\n                s + getStepForKey(baseStep, getHorizontalStepKeys(ev)),\n                v + getStepForKey(baseStep, getVerticalStepKeys(ev)),\n                a,\n            ], 'hsv');\n        };\n        return SvPaletteController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ColorPickerController = /** @class */ (function () {\n        function ColorPickerController(doc, config) {\n            var _this = this;\n            this.triggerElement = null;\n            this.onFocusableElementBlur_ = this.onFocusableElementBlur_.bind(this);\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.pickedColor = config.pickedColor;\n            this.foldable = new Foldable();\n            this.hPaletteIc_ = new HPaletteController(doc, {\n                value: this.pickedColor.value,\n            });\n            this.svPaletteIc_ = new SvPaletteController(doc, {\n                value: this.pickedColor.value,\n            });\n            this.alphaIcs_ = config.supportsAlpha\n                ? {\n                    palette: new APaletteController(doc, {\n                        value: this.pickedColor.value,\n                    }),\n                    text: new NumberTextController(doc, {\n                        formatter: createNumberFormatter(2),\n                        parser: parseNumber,\n                        baseStep: 0.1,\n                        value: new Value(0),\n                    }),\n                }\n                : null;\n            if (this.alphaIcs_) {\n                connect({\n                    primary: this.pickedColor.value,\n                    secondary: this.alphaIcs_.text.value,\n                    forward: function (p) {\n                        return p.rawValue.getComponents()[3];\n                    },\n                    backward: function (p, s) {\n                        var comps = p.rawValue.getComponents();\n                        comps[3] = s.rawValue;\n                        return new Color(comps, p.rawValue.mode);\n                    },\n                });\n            }\n            this.compTextsIc_ = new ColorComponentTextsController(doc, {\n                parser: parseNumber,\n                pickedColor: this.pickedColor,\n            });\n            this.view = new ColorPickerView(doc, {\n                alphaViews: this.alphaIcs_\n                    ? {\n                        palette: this.alphaIcs_.palette.view,\n                        text: this.alphaIcs_.text.view,\n                    }\n                    : null,\n                componentTextsView: this.compTextsIc_.view,\n                foldable: this.foldable,\n                hPaletteView: this.hPaletteIc_.view,\n                pickedColor: this.pickedColor,\n                supportsAlpha: config.supportsAlpha,\n                svPaletteView: this.svPaletteIc_.view,\n            });\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n            this.view.allFocusableElements.forEach(function (elem) {\n                elem.addEventListener('blur', _this.onFocusableElementBlur_);\n            });\n        }\n        Object.defineProperty(ColorPickerController.prototype, \"value\", {\n            get: function () {\n                return this.pickedColor.value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        ColorPickerController.prototype.onFocusableElementBlur_ = function (ev) {\n            var elem = this.view.element;\n            var nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                // Next target is in the picker\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.triggerElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                // Next target is the trigger button\n                return;\n            }\n            this.foldable.expanded = false;\n        };\n        ColorPickerController.prototype.onKeyDown_ = function (ev) {\n            if (ev.keyCode === 27) {\n                this.foldable.expanded = false;\n            }\n        };\n        return ColorPickerController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ColorSwatchController = /** @class */ (function () {\n        function ColorSwatchController(doc, config) {\n            this.onButtonBlur_ = this.onButtonBlur_.bind(this);\n            this.onButtonClick_ = this.onButtonClick_.bind(this);\n            this.value = config.value;\n            this.pickerIc_ = new ColorPickerController(doc, {\n                pickedColor: new PickedColor(this.value),\n                supportsAlpha: config.supportsAlpha,\n            });\n            this.view = new ColorSwatchView(doc, {\n                pickerView: this.pickerIc_.view,\n                value: this.value,\n            });\n            this.view.buttonElement.addEventListener('blur', this.onButtonBlur_);\n            this.view.buttonElement.addEventListener('click', this.onButtonClick_);\n            this.pickerIc_.triggerElement = this.view.buttonElement;\n        }\n        ColorSwatchController.prototype.onButtonBlur_ = function (e) {\n            var elem = this.view.element;\n            var nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.pickerIc_.foldable.expanded = false;\n            }\n        };\n        ColorSwatchController.prototype.onButtonClick_ = function () {\n            this.pickerIc_.foldable.expanded = !this.pickerIc_.foldable.expanded;\n            if (this.pickerIc_.foldable.expanded) {\n                this.pickerIc_.view.allFocusableElements[0].focus();\n            }\n        };\n        return ColorSwatchController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var ColorSwatchTextController = /** @class */ (function () {\n        function ColorSwatchTextController(doc, config) {\n            this.value = config.value;\n            this.swatchIc_ = new ColorSwatchController(doc, {\n                supportsAlpha: config.supportsAlpha,\n                value: this.value,\n            });\n            this.textIc_ = new TextController(doc, {\n                formatter: config.formatter,\n                parser: config.parser,\n                value: this.value,\n            });\n            this.view = new ColorSwatchTextView(doc, {\n                swatchView: this.swatchIc_.view,\n                textView: this.textIc_.view,\n            });\n        }\n        return ColorSwatchTextController;\n    }());\n\n    /**\n     * @hidden\n     */\n    function colorFromObject(value) {\n        if (Color.isColorObject(value)) {\n            return Color.fromObject(value);\n        }\n        return Color.black();\n    }\n    /**\n     * @hidden\n     */\n    function colorToRgbNumber(value) {\n        return removeAlphaComponent(value.getComponents('rgb')).reduce(function (result, comp) {\n            return (result << 8) | (Math.floor(comp) & 0xff);\n        }, 0);\n    }\n    /**\n     * @hidden\n     */\n    function colorToRgbaNumber(value) {\n        return (value.getComponents('rgb').reduce(function (result, comp, index) {\n            var hex = Math.floor(index === 3 ? comp * 255 : comp) & 0xff;\n            return (result << 8) | hex;\n        }, 0) >>> 0);\n    }\n    /**\n     * @hidden\n     */\n    function numberToRgbColor(num) {\n        return new Color([(num >> 16) & 0xff, (num >> 8) & 0xff, num & 0xff], 'rgb');\n    }\n    /**\n     * @hidden\n     */\n    function numberToRgbaColor(num) {\n        return new Color([\n            (num >> 24) & 0xff,\n            (num >> 16) & 0xff,\n            (num >> 8) & 0xff,\n            mapRange(num & 0xff, 0, 255, 0, 1),\n        ], 'rgb');\n    }\n    /**\n     * @hidden\n     */\n    function colorFromRgbNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbColor(value);\n    }\n    /**\n     * @hidden\n     */\n    function colorFromRgbaNumber(value) {\n        if (typeof value !== 'number') {\n            return Color.black();\n        }\n        return numberToRgbaColor(value);\n    }\n\n    function createColorStringWriter(notation) {\n        var stringify = getColorStringifier(notation);\n        return function (target, value) {\n            writePrimitive(target, stringify(value));\n        };\n    }\n    function createColorNumberWriter(supportsAlpha) {\n        var colorToNumber = supportsAlpha ? colorToRgbaNumber : colorToRgbNumber;\n        return function (target, value) {\n            writePrimitive(target, colorToNumber(value));\n        };\n    }\n    function writeRgbaColorObject(target, value) {\n        var obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n        target.writeProperty('a', obj.a);\n    }\n    function writeRgbColorObject(target, value) {\n        var obj = value.toRgbaObject();\n        target.writeProperty('r', obj.r);\n        target.writeProperty('g', obj.g);\n        target.writeProperty('b', obj.b);\n    }\n    function createColorObjectWriter(supportsAlpha) {\n        return supportsAlpha ? writeRgbaColorObject : writeRgbColorObject;\n    }\n\n    function shouldSupportAlpha(inputParams) {\n        return 'input' in inputParams && inputParams.input === 'color.rgba';\n    }\n    /**\n     * @hidden\n     */\n    var NumberColorInputPlugin = {\n        id: 'input-color-number',\n        accept: function (value, params) {\n            if (typeof value !== 'number') {\n                return null;\n            }\n            if (!('input' in params)) {\n                return null;\n            }\n            if (params.input !== 'color' &&\n                params.input !== 'color.rgb' &&\n                params.input !== 'color.rgba') {\n                return null;\n            }\n            return value;\n        },\n        binding: {\n            reader: function (args) {\n                return shouldSupportAlpha(args.params)\n                    ? colorFromRgbaNumber\n                    : colorFromRgbNumber;\n            },\n            equals: Color.equals,\n            writer: function (args) {\n                return createColorNumberWriter(shouldSupportAlpha(args.params));\n            },\n        },\n        controller: function (args) {\n            var supportsAlpha = shouldSupportAlpha(args.params);\n            var formatter = supportsAlpha\n                ? colorToHexRgbaString\n                : colorToHexRgbString;\n            return new ColorSwatchTextController(args.document, {\n                formatter: formatter,\n                parser: CompositeColorParser,\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n            });\n        },\n    };\n\n    function shouldSupportAlpha$1(initialValue) {\n        return Color.isRgbaColorObject(initialValue);\n    }\n    /**\n     * @hidden\n     */\n    var ObjectColorInputPlugin = {\n        id: 'input-color-object',\n        accept: function (value, _params) { return (Color.isColorObject(value) ? value : null); },\n        binding: {\n            reader: function (_args) { return colorFromObject; },\n            equals: Color.equals,\n            writer: function (args) {\n                return createColorObjectWriter(shouldSupportAlpha$1(args.initialValue));\n            },\n        },\n        controller: function (args) {\n            var supportsAlpha = Color.isRgbaColorObject(args.initialValue);\n            var formatter = supportsAlpha\n                ? colorToHexRgbaString\n                : colorToHexRgbString;\n            return new ColorSwatchTextController(args.document, {\n                formatter: formatter,\n                parser: CompositeColorParser,\n                supportsAlpha: supportsAlpha,\n                value: args.value,\n            });\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    var StringColorInputPlugin = {\n        id: 'input-color-string',\n        accept: function (value, params) {\n            if (typeof value !== 'string') {\n                return null;\n            }\n            if ('input' in params && params.input === 'string') {\n                return null;\n            }\n            var notation = getColorNotation(value);\n            if (!notation) {\n                return null;\n            }\n            return value;\n        },\n        binding: {\n            reader: function (_args) { return colorFromString; },\n            equals: Color.equals,\n            writer: function (args) {\n                var notation = getColorNotation(args.initialValue);\n                if (!notation) {\n                    throw TpError.shouldNeverHappen();\n                }\n                return createColorStringWriter(notation);\n            },\n        },\n        controller: function (args) {\n            var notation = getColorNotation(args.initialValue);\n            if (!notation) {\n                throw TpError.shouldNeverHappen();\n            }\n            var stringifier = getColorStringifier(notation);\n            return new ColorSwatchTextController(args.document, {\n                formatter: stringifier,\n                parser: CompositeColorParser,\n                supportsAlpha: hasAlphaComponent(notation),\n                value: args.value,\n            });\n        },\n    };\n\n    /**\n     * A number range constraint.\n     */\n    var RangeConstraint = /** @class */ (function () {\n        function RangeConstraint(config) {\n            this.maxValue = config.max;\n            this.minValue = config.min;\n        }\n        RangeConstraint.prototype.constrain = function (value) {\n            var result = value;\n            if (!isEmpty(this.minValue)) {\n                result = Math.max(result, this.minValue);\n            }\n            if (!isEmpty(this.maxValue)) {\n                result = Math.min(result, this.maxValue);\n            }\n            return result;\n        };\n        return RangeConstraint;\n    }());\n\n    var className$e = ClassName('sldtxt');\n    /**\n     * @hidden\n     */\n    var SliderTextView = /** @class */ (function () {\n        function SliderTextView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$e());\n            var sliderElem = doc.createElement('div');\n            sliderElem.classList.add(className$e('s'));\n            this.sliderView_ = config.sliderView;\n            sliderElem.appendChild(this.sliderView_.element);\n            this.element.appendChild(sliderElem);\n            var textElem = doc.createElement('div');\n            textElem.classList.add(className$e('t'));\n            this.textView_ = config.textView;\n            textElem.appendChild(this.textView_.element);\n            this.element.appendChild(textElem);\n        }\n        Object.defineProperty(SliderTextView.prototype, \"value\", {\n            get: function () {\n                return this.sliderView_.value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        SliderTextView.prototype.update = function () {\n            this.sliderView_.update();\n            this.textView_.update();\n        };\n        return SliderTextView;\n    }());\n\n    var className$f = ClassName('sld');\n    /**\n     * @hidden\n     */\n    var SliderView = /** @class */ (function () {\n        function SliderView(doc, config) {\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.minValue_ = config.minValue;\n            this.maxValue_ = config.maxValue;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$f());\n            var outerElem = doc.createElement('div');\n            outerElem.classList.add(className$f('o'));\n            outerElem.tabIndex = 0;\n            this.element.appendChild(outerElem);\n            this.outerElement = outerElem;\n            var innerElem = doc.createElement('div');\n            innerElem.classList.add(className$f('i'));\n            this.outerElement.appendChild(innerElem);\n            this.innerElement = innerElem;\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update();\n        }\n        SliderView.prototype.update = function () {\n            var p = constrainRange(mapRange(this.value.rawValue, this.minValue_, this.maxValue_, 0, 100), 0, 100);\n            this.innerElement.style.width = p + \"%\";\n        };\n        SliderView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return SliderView;\n    }());\n\n    function findRange(value) {\n        var c = value.constraint\n            ? findConstraint(value.constraint, RangeConstraint)\n            : null;\n        if (!c) {\n            return [undefined, undefined];\n        }\n        return [c.minValue, c.maxValue];\n    }\n    function estimateSuitableRange(value) {\n        var _a = findRange(value), min = _a[0], max = _a[1];\n        return [min !== null && min !== void 0 ? min : 0, max !== null && max !== void 0 ? max : 100];\n    }\n    /**\n     * @hidden\n     */\n    var SliderController = /** @class */ (function () {\n        function SliderController(doc, config) {\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.baseStep_ = config.baseStep;\n            var _a = estimateSuitableRange(this.value), min = _a[0], max = _a[1];\n            this.minValue_ = min;\n            this.maxValue_ = max;\n            this.view = new SliderView(doc, {\n                maxValue: this.maxValue_,\n                minValue: this.minValue_,\n                value: this.value,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.outerElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.outerElement.addEventListener('keydown', this.onKeyDown_);\n        }\n        SliderController.prototype.handlePointerEvent_ = function (d) {\n            this.value.rawValue = mapRange(d.x, 0, d.bounds.width, this.minValue_, this.maxValue_);\n        };\n        SliderController.prototype.onPointerDown_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SliderController.prototype.onPointerMove_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SliderController.prototype.onPointerUp_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        SliderController.prototype.onKeyDown_ = function (ev) {\n            this.value.rawValue += getStepForKey(this.baseStep_, getHorizontalStepKeys(ev));\n        };\n        return SliderController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var SliderTextController = /** @class */ (function () {\n        function SliderTextController(doc, config) {\n            this.value = config.value;\n            this.sliderIc_ = new SliderController(doc, {\n                baseStep: config.baseStep,\n                value: config.value,\n            });\n            this.textIc_ = new NumberTextController(doc, {\n                baseStep: config.baseStep,\n                formatter: config.formatter,\n                parser: config.parser,\n                value: config.value,\n            });\n            this.view = new SliderTextView(doc, {\n                sliderView: this.sliderIc_.view,\n                textView: this.textIc_.view,\n            });\n        }\n        return SliderTextController;\n    }());\n\n    /**\n     * Tries to create a step constraint.\n     * @param params The input parameters object.\n     * @return A constraint or null if not found.\n     */\n    function createStepConstraint(params) {\n        if ('step' in params && !isEmpty(params.step)) {\n            return new StepConstraint(params.step);\n        }\n        return null;\n    }\n    /**\n     * Tries to create a range constraint.\n     * @param params The input parameters object.\n     * @return A constraint or null if not found.\n     */\n    function createRangeConstraint(params) {\n        if (('max' in params && !isEmpty(params.max)) ||\n            ('min' in params && !isEmpty(params.min))) {\n            return new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            });\n        }\n        return null;\n    }\n    function createConstraint$1(params) {\n        var constraints = [];\n        var sc = createStepConstraint(params);\n        if (sc) {\n            constraints.push(sc);\n        }\n        var rc = createRangeConstraint(params);\n        if (rc) {\n            constraints.push(rc);\n        }\n        var lc = createListConstraint(params, numberFromUnknown);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createController$3(doc, value) {\n        var _a;\n        var c = value.constraint;\n        if (c && findConstraint(c, ListConstraint)) {\n            return new ListController(doc, {\n                listItems: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                stringifyValue: numberToString,\n                value: value,\n            });\n        }\n        if (c && findConstraint(c, RangeConstraint)) {\n            return new SliderTextController(doc, {\n                baseStep: getBaseStep(c),\n                formatter: createNumberFormatter(getSuitableDecimalDigits(value.constraint, value.rawValue)),\n                parser: parseNumber,\n                value: value,\n            });\n        }\n        return new NumberTextController(doc, {\n            baseStep: getBaseStep(c),\n            formatter: createNumberFormatter(getSuitableDecimalDigits(value.constraint, value.rawValue)),\n            parser: parseNumber,\n            value: value,\n        });\n    }\n    /**\n     * @hidden\n     */\n    var NumberInputPlugin = {\n        id: 'input-number',\n        accept: function (value) { return (typeof value === 'number' ? value : null); },\n        binding: {\n            reader: function (_args) { return numberFromUnknown; },\n            constraint: function (args) { return createConstraint$1(args.params); },\n            equals: equalsPrimitive,\n            writer: function (_args) { return writePrimitive; },\n        },\n        controller: function (args) {\n            return createController$3(args.document, args.value);\n        },\n    };\n\n    var Point2d = /** @class */ (function () {\n        function Point2d(x, y) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            this.x = x;\n            this.y = y;\n        }\n        Point2d.prototype.getComponents = function () {\n            return [this.x, this.y];\n        };\n        Point2d.isObject = function (obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            var x = obj.x;\n            var y = obj.y;\n            if (typeof x !== 'number' || typeof y !== 'number') {\n                return false;\n            }\n            return true;\n        };\n        Point2d.equals = function (v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y;\n        };\n        Point2d.prototype.toObject = function () {\n            return {\n                x: this.x,\n                y: this.y,\n            };\n        };\n        return Point2d;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Point2dConstraint = /** @class */ (function () {\n        function Point2dConstraint(config) {\n            this.x = config.x;\n            this.y = config.y;\n        }\n        Point2dConstraint.prototype.constrain = function (value) {\n            return new Point2d(this.x ? this.x.constrain(value.x) : value.x, this.y ? this.y.constrain(value.y) : value.y);\n        };\n        return Point2dConstraint;\n    }());\n\n    var className$g = ClassName('p2dpadtxt');\n    /**\n     * @hidden\n     */\n    var Point2dPadTextView = /** @class */ (function () {\n        function Point2dPadTextView(doc, config) {\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$g());\n            var padWrapperElem = doc.createElement('div');\n            padWrapperElem.classList.add(className$g('w'));\n            this.element.appendChild(padWrapperElem);\n            var buttonElem = doc.createElement('button');\n            buttonElem.classList.add(className$g('b'));\n            buttonElem.appendChild(createSvgIconElement(doc, 'p2dpad'));\n            padWrapperElem.appendChild(buttonElem);\n            this.padButtonElem_ = buttonElem;\n            var padElem = doc.createElement('div');\n            padElem.classList.add(className$g('p'));\n            padWrapperElem.appendChild(padElem);\n            this.padView_ = config.padView;\n            padElem.appendChild(this.padView_.element);\n            var textElem = doc.createElement('div');\n            textElem.classList.add(className$g('t'));\n            this.textView_ = config.textView;\n            textElem.appendChild(this.textView_.element);\n            this.element.appendChild(textElem);\n        }\n        Object.defineProperty(Point2dPadTextView.prototype, \"value\", {\n            get: function () {\n                return this.textView_.value;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Object.defineProperty(Point2dPadTextView.prototype, \"padButtonElement\", {\n            get: function () {\n                return this.padButtonElem_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Point2dPadTextView.prototype.update = function () {\n            this.padView_.update();\n            this.textView_.update();\n        };\n        return Point2dPadTextView;\n    }());\n\n    var className$h = ClassName('p2dpad');\n    /**\n     * @hidden\n     */\n    var Point2dPadView = /** @class */ (function () {\n        function Point2dPadView(doc, config) {\n            this.onFoldableChange_ = this.onFoldableChange_.bind(this);\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.foldable = config.foldable;\n            this.foldable.emitter.on('change', this.onFoldableChange_);\n            this.invertsY_ = config.invertsY;\n            this.maxValue_ = config.maxValue;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$h());\n            var padElem = doc.createElement('div');\n            padElem.tabIndex = 0;\n            padElem.classList.add(className$h('p'));\n            this.element.appendChild(padElem);\n            this.padElement = padElem;\n            var svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className$h('g'));\n            this.padElement.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            var xAxisElem = doc.createElementNS(SVG_NS, 'line');\n            xAxisElem.classList.add(className$h('ax'));\n            xAxisElem.setAttributeNS(null, 'x1', '0');\n            xAxisElem.setAttributeNS(null, 'y1', '50%');\n            xAxisElem.setAttributeNS(null, 'x2', '100%');\n            xAxisElem.setAttributeNS(null, 'y2', '50%');\n            this.svgElem_.appendChild(xAxisElem);\n            var yAxisElem = doc.createElementNS(SVG_NS, 'line');\n            yAxisElem.classList.add(className$h('ax'));\n            yAxisElem.setAttributeNS(null, 'x1', '50%');\n            yAxisElem.setAttributeNS(null, 'y1', '0');\n            yAxisElem.setAttributeNS(null, 'x2', '50%');\n            yAxisElem.setAttributeNS(null, 'y2', '100%');\n            this.svgElem_.appendChild(yAxisElem);\n            var lineElem = doc.createElementNS(SVG_NS, 'line');\n            lineElem.classList.add(className$h('l'));\n            lineElem.setAttributeNS(null, 'x1', '50%');\n            lineElem.setAttributeNS(null, 'y1', '50%');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            var markerElem = doc.createElementNS(SVG_NS, 'circle');\n            markerElem.classList.add(className$h('m'));\n            markerElem.setAttributeNS(null, 'r', '2px');\n            this.svgElem_.appendChild(markerElem);\n            this.markerElem_ = markerElem;\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update();\n        }\n        Object.defineProperty(Point2dPadView.prototype, \"allFocusableElements\", {\n            get: function () {\n                return [this.padElement];\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Point2dPadView.prototype.update = function () {\n            if (this.foldable.expanded) {\n                this.element.classList.add(className$h(undefined, 'expanded'));\n            }\n            else {\n                this.element.classList.remove(className$h(undefined, 'expanded'));\n            }\n            var _a = this.value.rawValue.getComponents(), x = _a[0], y = _a[1];\n            var max = this.maxValue_;\n            var px = mapRange(x, -max, +max, 0, 100);\n            var py = mapRange(y, -max, +max, 0, 100);\n            var ipy = this.invertsY_ ? 100 - py : py;\n            this.lineElem_.setAttributeNS(null, 'x2', px + \"%\");\n            this.lineElem_.setAttributeNS(null, 'y2', ipy + \"%\");\n            this.markerElem_.setAttributeNS(null, 'cx', px + \"%\");\n            this.markerElem_.setAttributeNS(null, 'cy', ipy + \"%\");\n        };\n        Point2dPadView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        Point2dPadView.prototype.onFoldableChange_ = function () {\n            this.update();\n        };\n        return Point2dPadView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Point2dPadController = /** @class */ (function () {\n        function Point2dPadController(doc, config) {\n            var _this = this;\n            this.triggerElement = null;\n            this.onFocusableElementBlur_ = this.onFocusableElementBlur_.bind(this);\n            this.onKeyDown_ = this.onKeyDown_.bind(this);\n            this.onPadKeyDown_ = this.onPadKeyDown_.bind(this);\n            this.onPointerDown_ = this.onPointerDown_.bind(this);\n            this.onPointerMove_ = this.onPointerMove_.bind(this);\n            this.onPointerUp_ = this.onPointerUp_.bind(this);\n            this.value = config.value;\n            this.foldable = new Foldable();\n            this.baseSteps_ = config.baseSteps;\n            this.maxValue_ = config.maxValue;\n            this.invertsY_ = config.invertsY;\n            this.view = new Point2dPadView(doc, {\n                foldable: this.foldable,\n                invertsY: this.invertsY_,\n                maxValue: this.maxValue_,\n                value: this.value,\n            });\n            this.ptHandler_ = new PointerHandler(this.view.padElement);\n            this.ptHandler_.emitter.on('down', this.onPointerDown_);\n            this.ptHandler_.emitter.on('move', this.onPointerMove_);\n            this.ptHandler_.emitter.on('up', this.onPointerUp_);\n            this.view.padElement.addEventListener('keydown', this.onPadKeyDown_);\n            this.view.element.addEventListener('keydown', this.onKeyDown_);\n            this.view.allFocusableElements.forEach(function (elem) {\n                elem.addEventListener('blur', _this.onFocusableElementBlur_);\n            });\n        }\n        Point2dPadController.prototype.handlePointerEvent_ = function (d) {\n            var max = this.maxValue_;\n            var px = mapRange(d.x, 0, d.bounds.width, -max, +max);\n            var py = mapRange(this.invertsY_ ? d.bounds.height - d.y : d.y, 0, d.bounds.height, -max, +max);\n            this.value.rawValue = new Point2d(px, py);\n            this.view.update();\n        };\n        Point2dPadController.prototype.onPointerDown_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        Point2dPadController.prototype.onPointerMove_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        Point2dPadController.prototype.onPointerUp_ = function (ev) {\n            this.handlePointerEvent_(ev.data);\n        };\n        Point2dPadController.prototype.onPadKeyDown_ = function (ev) {\n            if (isArrowKey(ev.keyCode)) {\n                ev.preventDefault();\n            }\n            this.value.rawValue = new Point2d(this.value.rawValue.x +\n                getStepForKey(this.baseSteps_[0], getHorizontalStepKeys(ev)), this.value.rawValue.y +\n                getStepForKey(this.baseSteps_[1], getVerticalStepKeys(ev)) *\n                    (this.invertsY_ ? 1 : -1));\n        };\n        Point2dPadController.prototype.onFocusableElementBlur_ = function (ev) {\n            var elem = this.view.element;\n            var nextTarget = findNextTarget(ev);\n            if (nextTarget && elem.contains(nextTarget)) {\n                // Next target is in the picker\n                return;\n            }\n            if (nextTarget &&\n                nextTarget === this.triggerElement &&\n                !supportsTouch(elem.ownerDocument)) {\n                // Next target is the trigger button\n                return;\n            }\n            this.foldable.expanded = false;\n        };\n        Point2dPadController.prototype.onKeyDown_ = function (ev) {\n            if (ev.keyCode === 27) {\n                this.foldable.expanded = false;\n            }\n        };\n        return Point2dPadController;\n    }());\n\n    var className$i = ClassName('p2dtxt');\n    /**\n     * @hidden\n     */\n    var Point2dTextView = /** @class */ (function () {\n        function Point2dTextView(doc, config) {\n            var _this = this;\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.formatters_ = config.formatters;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$i());\n            var inputElems = [0, 1].map(function () {\n                var inputElem = doc.createElement('input');\n                inputElem.classList.add(className$i('i'));\n                inputElem.type = 'text';\n                return inputElem;\n            });\n            [0, 1].forEach(function (_, index) {\n                var elem = doc.createElement('div');\n                elem.classList.add(className$i('w'));\n                elem.appendChild(inputElems[index]);\n                _this.element.appendChild(elem);\n            });\n            this.inputElems_ = [inputElems[0], inputElems[1]];\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update();\n        }\n        Object.defineProperty(Point2dTextView.prototype, \"inputElements\", {\n            get: function () {\n                return this.inputElems_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Point2dTextView.prototype.update = function () {\n            var _this = this;\n            var xyComps = this.value.rawValue.getComponents();\n            xyComps.forEach(function (comp, index) {\n                var inputElem = _this.inputElems_[index];\n                inputElem.value = _this.formatters_[index](comp);\n            });\n        };\n        Point2dTextView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return Point2dTextView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Point2dTextController = /** @class */ (function () {\n        function Point2dTextController(doc, config) {\n            var _this = this;\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n            this.parser_ = config.parser;\n            this.value = config.value;\n            this.baseSteps_ = [config.axes[0].baseStep, config.axes[1].baseStep];\n            this.view = new Point2dTextView(doc, {\n                formatters: [config.axes[0].formatter, config.axes[1].formatter],\n                value: this.value,\n            });\n            this.view.inputElements.forEach(function (inputElem) {\n                inputElem.addEventListener('change', _this.onInputChange_);\n                inputElem.addEventListener('keydown', _this.onInputKeyDown_);\n            });\n        }\n        Point2dTextController.prototype.findIndexOfInputElem_ = function (inputElem) {\n            var inputElems = this.view.inputElements;\n            for (var i = 0; i < inputElems.length; i++) {\n                if (inputElems[i] === inputElem) {\n                    return i;\n                }\n            }\n            return null;\n        };\n        Point2dTextController.prototype.updateComponent_ = function (index, newValue) {\n            var comps = this.value.rawValue.getComponents();\n            var newComps = comps.map(function (comp, i) {\n                return i === index ? newValue : comp;\n            });\n            this.value.rawValue = new Point2d(newComps[0], newComps[1]);\n            this.view.update();\n        };\n        Point2dTextController.prototype.onInputChange_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            var parsedValue = this.parser_(inputElem.value);\n            if (isEmpty(parsedValue)) {\n                return;\n            }\n            var compIndex = this.findIndexOfInputElem_(inputElem);\n            if (isEmpty(compIndex)) {\n                return;\n            }\n            this.updateComponent_(compIndex, parsedValue);\n        };\n        Point2dTextController.prototype.onInputKeyDown_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            var parsedValue = this.parser_(inputElem.value);\n            if (isEmpty(parsedValue)) {\n                return;\n            }\n            var compIndex = this.findIndexOfInputElem_(inputElem);\n            if (isEmpty(compIndex)) {\n                return;\n            }\n            var step = getStepForKey(this.baseSteps_[compIndex], getVerticalStepKeys(e));\n            if (step === 0) {\n                return;\n            }\n            this.updateComponent_(compIndex, parsedValue + step);\n        };\n        return Point2dTextController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Point2dPadTextController = /** @class */ (function () {\n        function Point2dPadTextController(doc, config) {\n            this.onPadButtonBlur_ = this.onPadButtonBlur_.bind(this);\n            this.onPadButtonClick_ = this.onPadButtonClick_.bind(this);\n            this.value = config.value;\n            this.padIc_ = new Point2dPadController(doc, {\n                baseSteps: [config.axes[0].baseStep, config.axes[1].baseStep],\n                invertsY: config.invertsY,\n                maxValue: config.maxValue,\n                value: this.value,\n            });\n            this.textIc_ = new Point2dTextController(doc, {\n                axes: config.axes,\n                parser: config.parser,\n                value: this.value,\n            });\n            this.view = new Point2dPadTextView(doc, {\n                padView: this.padIc_.view,\n                textView: this.textIc_.view,\n            });\n            this.view.padButtonElement.addEventListener('blur', this.onPadButtonBlur_);\n            this.view.padButtonElement.addEventListener('click', this.onPadButtonClick_);\n            this.padIc_.triggerElement = this.view.padButtonElement;\n        }\n        Point2dPadTextController.prototype.onPadButtonBlur_ = function (e) {\n            var elem = this.view.element;\n            var nextTarget = forceCast(e.relatedTarget);\n            if (!nextTarget || !elem.contains(nextTarget)) {\n                this.padIc_.foldable.expanded = false;\n            }\n        };\n        Point2dPadTextController.prototype.onPadButtonClick_ = function () {\n            this.padIc_.foldable.expanded = !this.padIc_.foldable.expanded;\n            if (this.padIc_.foldable.expanded) {\n                this.padIc_.view.allFocusableElements[0].focus();\n            }\n        };\n        return Point2dPadTextController;\n    }());\n\n    /**\n     * @hidden\n     */\n    function point2dFromUnknown(value) {\n        return Point2d.isObject(value)\n            ? new Point2d(value.x, value.y)\n            : new Point2d();\n    }\n\n    function writePoint2d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n    }\n\n    function createDimensionConstraint(params) {\n        if (!params) {\n            return undefined;\n        }\n        var constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$2(params) {\n        return new Point2dConstraint({\n            x: createDimensionConstraint('x' in params ? params.x : undefined),\n            y: createDimensionConstraint('y' in params ? params.y : undefined),\n        });\n    }\n    function getSuitableMaxDimensionValue(constraint, rawValue) {\n        var rc = constraint && findConstraint(constraint, RangeConstraint);\n        if (rc) {\n            return Math.max(Math.abs(rc.minValue || 0), Math.abs(rc.maxValue || 0));\n        }\n        var step = getBaseStep(constraint);\n        return Math.max(Math.abs(step) * 10, Math.abs(rawValue) * 10);\n    }\n    /**\n     * @hidden\n     */\n    function getSuitableMaxValue(initialValue, constraint) {\n        var xc = constraint instanceof Point2dConstraint ? constraint.x : undefined;\n        var yc = constraint instanceof Point2dConstraint ? constraint.y : undefined;\n        var xr = getSuitableMaxDimensionValue(xc, initialValue.x);\n        var yr = getSuitableMaxDimensionValue(yc, initialValue.y);\n        return Math.max(xr, yr);\n    }\n    function createController$4(document, value, invertsY) {\n        var c = value.constraint;\n        if (!(c instanceof Point2dConstraint)) {\n            throw TpError.shouldNeverHappen();\n        }\n        return new Point2dPadTextController(document, {\n            axes: [\n                {\n                    baseStep: getBaseStep(c.x),\n                    formatter: createNumberFormatter(getSuitableDecimalDigits(c.x, value.rawValue.x)),\n                },\n                {\n                    baseStep: getBaseStep(c.y),\n                    formatter: createNumberFormatter(getSuitableDecimalDigits(c.y, value.rawValue.y)),\n                },\n            ],\n            invertsY: invertsY,\n            maxValue: getSuitableMaxValue(value.rawValue, value.constraint),\n            parser: parseNumber,\n            value: value,\n        });\n    }\n    function shouldInvertY(params) {\n        if (!('y' in params)) {\n            return false;\n        }\n        var yParams = params.y;\n        if (!yParams) {\n            return false;\n        }\n        return 'inverted' in yParams ? !!yParams.inverted : false;\n    }\n    /**\n     * @hidden\n     */\n    var Point2dInputPlugin = {\n        id: 'input-point2d',\n        accept: function (value, _params) { return (Point2d.isObject(value) ? value : null); },\n        binding: {\n            reader: function (_args) { return point2dFromUnknown; },\n            constraint: function (args) { return createConstraint$2(args.params); },\n            equals: Point2d.equals,\n            writer: function (_args) { return writePoint2d; },\n        },\n        controller: function (args) {\n            return createController$4(args.document, args.value, shouldInvertY(args.params));\n        },\n    };\n\n    var Point3d = /** @class */ (function () {\n        function Point3d(x, y, z) {\n            if (x === void 0) { x = 0; }\n            if (y === void 0) { y = 0; }\n            if (z === void 0) { z = 0; }\n            this.x = x;\n            this.y = y;\n            this.z = z;\n        }\n        Point3d.prototype.getComponents = function () {\n            return [this.x, this.y, this.z];\n        };\n        Point3d.isObject = function (obj) {\n            if (isEmpty(obj)) {\n                return false;\n            }\n            var x = obj.x;\n            var y = obj.y;\n            var z = obj.z;\n            if (typeof x !== 'number' ||\n                typeof y !== 'number' ||\n                typeof z !== 'number') {\n                return false;\n            }\n            return true;\n        };\n        Point3d.equals = function (v1, v2) {\n            return v1.x === v2.x && v1.y === v2.y && v1.z === v2.z;\n        };\n        Point3d.prototype.toObject = function () {\n            return {\n                x: this.x,\n                y: this.y,\n                z: this.z,\n            };\n        };\n        return Point3d;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Point3dConstraint = /** @class */ (function () {\n        function Point3dConstraint(config) {\n            this.x = config.x;\n            this.y = config.y;\n            this.z = config.z;\n        }\n        Point3dConstraint.prototype.constrain = function (value) {\n            return new Point3d(this.x ? this.x.constrain(value.x) : value.x, this.y ? this.y.constrain(value.y) : value.y, this.z ? this.z.constrain(value.z) : value.z);\n        };\n        return Point3dConstraint;\n    }());\n\n    var className$j = ClassName('p3dtxt');\n    /**\n     * @hidden\n     */\n    var Point3dTextView = /** @class */ (function () {\n        function Point3dTextView(doc, config) {\n            var _this = this;\n            this.onValueChange_ = this.onValueChange_.bind(this);\n            this.formatters_ = config.formatters;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$j());\n            var inputElems = [0, 1, 2].map(function () {\n                var inputElem = doc.createElement('input');\n                inputElem.classList.add(className$j('i'));\n                inputElem.type = 'text';\n                return inputElem;\n            });\n            [0, 1, 2].forEach(function (_, index) {\n                var elem = doc.createElement('div');\n                elem.classList.add(className$j('w'));\n                elem.appendChild(inputElems[index]);\n                _this.element.appendChild(elem);\n            });\n            this.inputElems_ = [inputElems[0], inputElems[1], inputElems[2]];\n            config.value.emitter.on('change', this.onValueChange_);\n            this.value = config.value;\n            this.update();\n        }\n        Object.defineProperty(Point3dTextView.prototype, \"inputElements\", {\n            get: function () {\n                return this.inputElems_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Point3dTextView.prototype.update = function () {\n            var _this = this;\n            var comps = this.value.rawValue.getComponents();\n            comps.forEach(function (comp, index) {\n                var inputElem = _this.inputElems_[index];\n                inputElem.value = _this.formatters_[index](comp);\n            });\n        };\n        Point3dTextView.prototype.onValueChange_ = function () {\n            this.update();\n        };\n        return Point3dTextView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var Point3dTextController = /** @class */ (function () {\n        function Point3dTextController(doc, config) {\n            var _this = this;\n            this.onInputChange_ = this.onInputChange_.bind(this);\n            this.onInputKeyDown_ = this.onInputKeyDown_.bind(this);\n            this.parser_ = config.parser;\n            this.value = config.value;\n            var axes = config.axes;\n            this.baseSteps_ = [axes[0].baseStep, axes[1].baseStep, axes[2].baseStep];\n            this.view = new Point3dTextView(doc, {\n                formatters: [axes[0].formatter, axes[1].formatter, axes[2].formatter],\n                value: this.value,\n            });\n            this.view.inputElements.forEach(function (inputElem) {\n                inputElem.addEventListener('change', _this.onInputChange_);\n                inputElem.addEventListener('keydown', _this.onInputKeyDown_);\n            });\n        }\n        Point3dTextController.prototype.findIndexOfInputElem_ = function (inputElem) {\n            var inputElems = this.view.inputElements;\n            for (var i = 0; i < inputElems.length; i++) {\n                if (inputElems[i] === inputElem) {\n                    return i;\n                }\n            }\n            return null;\n        };\n        Point3dTextController.prototype.updateComponent_ = function (index, newValue) {\n            var comps = this.value.rawValue.getComponents();\n            var newComps = comps.map(function (comp, i) {\n                return i === index ? newValue : comp;\n            });\n            this.value.rawValue = new Point3d(newComps[0], newComps[1], newComps[2]);\n            this.view.update();\n        };\n        Point3dTextController.prototype.onInputChange_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            var parsedValue = this.parser_(inputElem.value);\n            if (isEmpty(parsedValue)) {\n                return;\n            }\n            var compIndex = this.findIndexOfInputElem_(inputElem);\n            if (isEmpty(compIndex)) {\n                return;\n            }\n            this.updateComponent_(compIndex, parsedValue);\n        };\n        Point3dTextController.prototype.onInputKeyDown_ = function (e) {\n            var inputElem = forceCast(e.currentTarget);\n            var parsedValue = this.parser_(inputElem.value);\n            if (isEmpty(parsedValue)) {\n                return;\n            }\n            var compIndex = this.findIndexOfInputElem_(inputElem);\n            if (isEmpty(compIndex)) {\n                return;\n            }\n            var step = getStepForKey(this.baseSteps_[compIndex], getVerticalStepKeys(e));\n            if (step === 0) {\n                return;\n            }\n            this.updateComponent_(compIndex, parsedValue + step);\n        };\n        return Point3dTextController;\n    }());\n\n    /**\n     * @hidden\n     */\n    function point3dFromUnknown(value) {\n        return Point3d.isObject(value)\n            ? new Point3d(value.x, value.y, value.z)\n            : new Point3d();\n    }\n\n    function writePoint3d(target, value) {\n        target.writeProperty('x', value.x);\n        target.writeProperty('y', value.y);\n        target.writeProperty('z', value.z);\n    }\n\n    function createDimensionConstraint$1(params) {\n        if (!params) {\n            return undefined;\n        }\n        var constraints = [];\n        if (!isEmpty(params.step)) {\n            constraints.push(new StepConstraint(params.step));\n        }\n        if (!isEmpty(params.max) || !isEmpty(params.min)) {\n            constraints.push(new RangeConstraint({\n                max: params.max,\n                min: params.min,\n            }));\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createConstraint$3(params) {\n        return new Point3dConstraint({\n            x: createDimensionConstraint$1('x' in params ? params.x : undefined),\n            y: createDimensionConstraint$1('y' in params ? params.y : undefined),\n            z: createDimensionConstraint$1('z' in params ? params.z : undefined),\n        });\n    }\n    /**\n     * @hidden\n     */\n    function getAxis(initialValue, constraint) {\n        return {\n            baseStep: getBaseStep(constraint),\n            formatter: createNumberFormatter(getSuitableDecimalDigits(constraint, initialValue)),\n        };\n    }\n    function createController$5(document, value) {\n        var c = value.constraint;\n        if (!(c instanceof Point3dConstraint)) {\n            throw TpError.shouldNeverHappen();\n        }\n        return new Point3dTextController(document, {\n            axes: [\n                getAxis(value.rawValue.x, c.x),\n                getAxis(value.rawValue.y, c.y),\n                getAxis(value.rawValue.z, c.z),\n            ],\n            parser: parseNumber,\n            value: value,\n        });\n    }\n    /**\n     * @hidden\n     */\n    var Point3dInputPlugin = {\n        id: 'input-point3d',\n        accept: function (value, _params) { return (Point3d.isObject(value) ? value : null); },\n        binding: {\n            reader: function (_args) { return point3dFromUnknown; },\n            constraint: function (args) { return createConstraint$3(args.params); },\n            equals: Point3d.equals,\n            writer: function (_args) { return writePoint3d; },\n        },\n        controller: function (args) {\n            return createController$5(args.document, args.value);\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    function stringFromUnknown(value) {\n        return String(value);\n    }\n    /**\n     * @hidden\n     */\n    function formatString(value) {\n        return value;\n    }\n\n    function createConstraint$4(params) {\n        var constraints = [];\n        var lc = createListConstraint(params, stringFromUnknown);\n        if (lc) {\n            constraints.push(lc);\n        }\n        return new CompositeConstraint(constraints);\n    }\n    function createController$6(doc, value) {\n        var _a;\n        var c = value.constraint;\n        if (c && findConstraint(c, ListConstraint)) {\n            return new ListController(doc, {\n                listItems: (_a = findListItems(c)) !== null && _a !== void 0 ? _a : [],\n                stringifyValue: function (v) { return v; },\n                value: value,\n            });\n        }\n        return new TextController(doc, {\n            formatter: formatString,\n            parser: function (v) { return v; },\n            value: value,\n        });\n    }\n    /**\n     * @hidden\n     */\n    var StringInputPlugin = {\n        id: 'input-string',\n        accept: function (value, _params) { return (typeof value === 'string' ? value : null); },\n        binding: {\n            reader: function (_args) { return stringFromUnknown; },\n            constraint: function (args) { return createConstraint$4(args.params); },\n            equals: equalsPrimitive,\n            writer: function (_args) { return writePrimitive; },\n        },\n        controller: function (params) {\n            return createController$6(params.document, params.value);\n        },\n    };\n\n    var className$k = ClassName('mll');\n    /**\n     * @hidden\n     */\n    var MultiLogView = /** @class */ (function () {\n        function MultiLogView(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$k());\n            var textareaElem = doc.createElement('textarea');\n            textareaElem.classList.add(className$k('i'));\n            textareaElem.style.height = \"calc(var(--unit-size) * \" + config.lineCount + \")\";\n            textareaElem.readOnly = true;\n            this.element.appendChild(textareaElem);\n            this.textareaElem_ = textareaElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update();\n        }\n        MultiLogView.prototype.update = function () {\n            var _this = this;\n            var elem = this.textareaElem_;\n            var shouldScroll = elem.scrollTop === elem.scrollHeight - elem.clientHeight;\n            elem.textContent = this.value.rawValue\n                .map(function (value) {\n                return value !== undefined ? _this.formatter_(value) : '';\n            })\n                .join('\\n');\n            if (shouldScroll) {\n                elem.scrollTop = elem.scrollHeight;\n            }\n        };\n        MultiLogView.prototype.onValueUpdate_ = function () {\n            this.update();\n        };\n        return MultiLogView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var MultiLogController = /** @class */ (function () {\n        function MultiLogController(doc, config) {\n            this.value = config.value;\n            this.view = new MultiLogView(doc, {\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                value: this.value,\n            });\n        }\n        return MultiLogController;\n    }());\n\n    var className$l = ClassName('sgl');\n    /**\n     * @hidden\n     */\n    var SingleLogView = /** @class */ (function () {\n        function SingleLogView(doc, config) {\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.formatter_ = config.formatter;\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$l());\n            var inputElem = doc.createElement('input');\n            inputElem.classList.add(className$l('i'));\n            inputElem.readOnly = true;\n            inputElem.type = 'text';\n            this.element.appendChild(inputElem);\n            this.inputElem_ = inputElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update();\n        }\n        SingleLogView.prototype.update = function () {\n            var values = this.value.rawValue;\n            var lastValue = values[values.length - 1];\n            this.inputElem_.value =\n                lastValue !== undefined ? this.formatter_(lastValue) : '';\n        };\n        SingleLogView.prototype.onValueUpdate_ = function () {\n            this.update();\n        };\n        return SingleLogView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var SingleLogMonitorController = /** @class */ (function () {\n        function SingleLogMonitorController(doc, config) {\n            this.value = config.value;\n            this.view = new SingleLogView(doc, {\n                formatter: config.formatter,\n                value: this.value,\n            });\n        }\n        return SingleLogMonitorController;\n    }());\n\n    /**\n     * @hidden\n     */\n    var BooleanMonitorPlugin = {\n        id: 'monitor-bool',\n        accept: function (value, _params) { return (typeof value === 'boolean' ? value : null); },\n        binding: {\n            reader: function (_args) { return boolFromUnknown; },\n        },\n        controller: function (args) {\n            var _a;\n            if (args.value.rawValue.length === 1) {\n                return new SingleLogMonitorController(args.document, {\n                    formatter: BooleanFormatter,\n                    value: args.value,\n                });\n            }\n            return new MultiLogController(args.document, {\n                formatter: BooleanFormatter,\n                lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                value: args.value,\n            });\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    var GraphCursor = /** @class */ (function () {\n        function GraphCursor() {\n            this.emitter = new Emitter();\n            this.index_ = -1;\n        }\n        Object.defineProperty(GraphCursor.prototype, \"index\", {\n            get: function () {\n                return this.index_;\n            },\n            set: function (index) {\n                var changed = this.index_ !== index;\n                if (changed) {\n                    this.index_ = index;\n                    this.emitter.emit('change', {\n                        index: index,\n                        sender: this,\n                    });\n                }\n            },\n            enumerable: false,\n            configurable: true\n        });\n        return GraphCursor;\n    }());\n\n    var className$m = ClassName('grl');\n    /**\n     * @hidden\n     */\n    var GraphLogView = /** @class */ (function () {\n        function GraphLogView(doc, config) {\n            this.onCursorChange_ = this.onCursorChange_.bind(this);\n            this.onValueUpdate_ = this.onValueUpdate_.bind(this);\n            this.element = doc.createElement('div');\n            this.element.classList.add(className$m());\n            this.formatter_ = config.formatter;\n            this.minValue_ = config.minValue;\n            this.maxValue_ = config.maxValue;\n            this.cursor_ = config.cursor;\n            this.cursor_.emitter.on('change', this.onCursorChange_);\n            var svgElem = doc.createElementNS(SVG_NS, 'svg');\n            svgElem.classList.add(className$m('g'));\n            svgElem.style.height = \"calc(var(--unit-size) * \" + config.lineCount + \")\";\n            this.element.appendChild(svgElem);\n            this.svgElem_ = svgElem;\n            var lineElem = doc.createElementNS(SVG_NS, 'polyline');\n            this.svgElem_.appendChild(lineElem);\n            this.lineElem_ = lineElem;\n            var tooltipElem = doc.createElement('div');\n            tooltipElem.classList.add(className$m('t'));\n            this.element.appendChild(tooltipElem);\n            this.tooltipElem_ = tooltipElem;\n            config.value.emitter.on('change', this.onValueUpdate_);\n            this.value = config.value;\n            this.update();\n        }\n        Object.defineProperty(GraphLogView.prototype, \"graphElement\", {\n            get: function () {\n                return this.svgElem_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        GraphLogView.prototype.update = function () {\n            var bounds = this.svgElem_.getBoundingClientRect();\n            // Graph\n            var maxIndex = this.value.rawValue.length - 1;\n            var min = this.minValue_;\n            var max = this.maxValue_;\n            var points = [];\n            this.value.rawValue.forEach(function (v, index) {\n                if (v === undefined) {\n                    return;\n                }\n                var x = mapRange(index, 0, maxIndex, 0, bounds.width);\n                var y = mapRange(v, min, max, bounds.height, 0);\n                points.push([x, y].join(','));\n            });\n            this.lineElem_.setAttributeNS(null, 'points', points.join(' '));\n            // Cursor\n            var tooltipElem = this.tooltipElem_;\n            var value = this.value.rawValue[this.cursor_.index];\n            if (value === undefined) {\n                tooltipElem.classList.remove(className$m('t', 'valid'));\n                return;\n            }\n            tooltipElem.classList.add(className$m('t', 'valid'));\n            var tx = mapRange(this.cursor_.index, 0, maxIndex, 0, bounds.width);\n            var ty = mapRange(value, min, max, bounds.height, 0);\n            tooltipElem.style.left = tx + \"px\";\n            tooltipElem.style.top = ty + \"px\";\n            tooltipElem.textContent = \"\" + this.formatter_(value);\n        };\n        GraphLogView.prototype.onValueUpdate_ = function () {\n            this.update();\n        };\n        GraphLogView.prototype.onCursorChange_ = function () {\n            this.update();\n        };\n        return GraphLogView;\n    }());\n\n    /**\n     * @hidden\n     */\n    var GraphLogController = /** @class */ (function () {\n        function GraphLogController(doc, config) {\n            this.onGraphMouseLeave_ = this.onGraphMouseLeave_.bind(this);\n            this.onGraphMouseMove_ = this.onGraphMouseMove_.bind(this);\n            this.value = config.value;\n            this.cursor_ = new GraphCursor();\n            this.view = new GraphLogView(doc, {\n                cursor: this.cursor_,\n                formatter: config.formatter,\n                lineCount: config.lineCount,\n                maxValue: config.maxValue,\n                minValue: config.minValue,\n                value: this.value,\n            });\n            this.view.element.addEventListener('mouseleave', this.onGraphMouseLeave_);\n            this.view.element.addEventListener('mousemove', this.onGraphMouseMove_);\n        }\n        GraphLogController.prototype.onGraphMouseLeave_ = function () {\n            this.cursor_.index = -1;\n        };\n        GraphLogController.prototype.onGraphMouseMove_ = function (e) {\n            var bounds = this.view.graphElement.getBoundingClientRect();\n            var x = e.offsetX;\n            this.cursor_.index = Math.floor(mapRange(x, 0, bounds.width, 0, this.value.rawValue.length));\n        };\n        return GraphLogController;\n    }());\n\n    function createFormatter() {\n        // TODO: formatter precision\n        return createNumberFormatter(2);\n    }\n    function createTextMonitor(_a) {\n        var _b;\n        var document = _a.document, params = _a.params, value = _a.value;\n        if (value.rawValue.length === 1) {\n            return new SingleLogMonitorController(document, {\n                formatter: createFormatter(),\n                value: value,\n            });\n        }\n        return new MultiLogController(document, {\n            formatter: createFormatter(),\n            lineCount: (_b = params.lineCount) !== null && _b !== void 0 ? _b : Constants.monitor.defaultLineCount,\n            value: value,\n        });\n    }\n    function createGraphMonitor(_a) {\n        var _b, _c, _d;\n        var document = _a.document, params = _a.params, value = _a.value;\n        return new GraphLogController(document, {\n            formatter: createFormatter(),\n            lineCount: (_b = params.lineCount) !== null && _b !== void 0 ? _b : Constants.monitor.defaultLineCount,\n            maxValue: (_c = ('max' in params ? params.max : null)) !== null && _c !== void 0 ? _c : 100,\n            minValue: (_d = ('min' in params ? params.min : null)) !== null && _d !== void 0 ? _d : 0,\n            value: value,\n        });\n    }\n    function shouldShowGraph(params) {\n        return 'view' in params && params.view === 'graph';\n    }\n    /**\n     * @hidden\n     */\n    var NumberMonitorPlugin = {\n        id: 'monitor-number',\n        accept: function (value, _params) { return (typeof value === 'number' ? value : null); },\n        binding: {\n            defaultBufferSize: function (params) { return (shouldShowGraph(params) ? 64 : 1); },\n            reader: function (_args) { return numberFromUnknown; },\n        },\n        controller: function (args) {\n            if (shouldShowGraph(args.params)) {\n                return createGraphMonitor(args);\n            }\n            return createTextMonitor(args);\n        },\n    };\n\n    /**\n     * @hidden\n     */\n    var StringMonitorPlugin = {\n        id: 'monitor-string',\n        accept: function (value, _params) { return (typeof value === 'string' ? value : null); },\n        binding: {\n            reader: function (_args) { return stringFromUnknown; },\n        },\n        controller: function (args) {\n            var _a;\n            var value = args.value;\n            var multiline = value.rawValue.length > 1 ||\n                ('multiline' in args.params && args.params.multiline);\n            if (multiline) {\n                return new MultiLogController(args.document, {\n                    formatter: formatString,\n                    lineCount: (_a = args.params.lineCount) !== null && _a !== void 0 ? _a : Constants.monitor.defaultLineCount,\n                    value: value,\n                });\n            }\n            return new SingleLogMonitorController(args.document, {\n                formatter: formatString,\n                value: value,\n            });\n        },\n    };\n\n    function createDefaultWrapperElement(doc) {\n        var elem = doc.createElement('div');\n        elem.classList.add(ClassName('dfw')());\n        if (doc.body) {\n            doc.body.appendChild(elem);\n        }\n        return elem;\n    }\n    function embedStyle(doc, id, css) {\n        if (doc.querySelector(\"style[data-tp-style=\" + id + \"]\")) {\n            return;\n        }\n        var styleElem = doc.createElement('style');\n        styleElem.dataset.tpStyle = id;\n        styleElem.textContent = css;\n        doc.head.appendChild(styleElem);\n    }\n    function embedDefaultStyleIfNeeded(doc) {\n        embedStyle(doc, 'default', '.tp-btnv_b,.tp-lstv_s,.tp-p2dpadtxtv_b,.tp-fldv_t,.tp-rotv_t,.tp-cctxtsv_i,.tp-cswv_sw,.tp-p2dpadv_p,.tp-p2dtxtv_i,.tp-p3dtxtv_i,.tp-txtv_i,.tp-grlv_g,.tp-sglv_i,.tp-mllv_i,.tp-ckbv_i,.tp-cctxtsv_ms{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;font-family:inherit;font-size:inherit;font-weight:inherit;margin:0;outline:none;padding:0}.tp-btnv_b,.tp-lstv_s,.tp-p2dpadtxtv_b{background-color:var(--button-background-color);border-radius:2px;color:var(--button-foreground-color);cursor:pointer;display:block;font-weight:bold;height:var(--unit-size);line-height:var(--unit-size);overflow:hidden;text-overflow:ellipsis;white-space:nowrap}.tp-btnv_b:hover,.tp-lstv_s:hover,.tp-p2dpadtxtv_b:hover{background-color:var(--button-background-color-hover)}.tp-btnv_b:focus,.tp-lstv_s:focus,.tp-p2dpadtxtv_b:focus{background-color:var(--button-background-color-focus)}.tp-btnv_b:active,.tp-lstv_s:active,.tp-p2dpadtxtv_b:active{background-color:var(--button-background-color-active)}.tp-fldv_t,.tp-rotv_t{background-color:var(--folder-background-color);color:var(--folder-foreground-color);cursor:pointer;display:block;height:calc(var(--unit-size) + 4px);line-height:calc(var(--unit-size) + 4px);overflow:hidden;padding-left:28px;position:relative;text-align:left;text-overflow:ellipsis;white-space:nowrap;width:100%;transition:border-radius .2s ease-in-out .2s}.tp-fldv_t:hover,.tp-rotv_t:hover{background-color:var(--folder-background-color-hover)}.tp-fldv_t:focus,.tp-rotv_t:focus{background-color:var(--folder-background-color-focus)}.tp-fldv_t:active,.tp-rotv_t:active{background-color:var(--folder-background-color-active)}.tp-fldv_m,.tp-rotv_m{background:linear-gradient(to left, var(--folder-foreground-color), var(--folder-foreground-color) 2px, transparent 2px, transparent 4px, var(--folder-foreground-color) 4px);border-radius:2px;bottom:0;content:\\'\\';display:block;height:6px;left:13px;margin:auto;opacity:0.5;position:absolute;top:0;transform:rotate(90deg);transition:transform .2s ease-in-out;width:6px}.tp-fldv.tp-fldv-expanded>.tp-fldv_t>.tp-fldv_m,.tp-rotv.tp-rotv-expanded .tp-rotv_m{transform:none}.tp-fldv_c,.tp-rotv_c{box-sizing:border-box;height:0;opacity:0;overflow:hidden;padding-bottom:0;padding-top:0;position:relative;transition:height .2s ease-in-out,opacity .2s linear,padding .2s ease-in-out}.tp-fldv_c>.tp-fldv.tp-v-first,.tp-rotv_c>.tp-fldv.tp-v-first{margin-top:-4px}.tp-fldv_c>.tp-fldv.tp-v-last,.tp-rotv_c>.tp-fldv.tp-v-last{margin-bottom:-4px}.tp-fldv_c>*:not(.tp-v-first),.tp-rotv_c>*:not(.tp-v-first){margin-top:4px}.tp-fldv_c>.tp-fldv:not(.tp-v-hidden)+.tp-fldv,.tp-rotv_c>.tp-fldv:not(.tp-v-hidden)+.tp-fldv{margin-top:0}.tp-fldv_c>.tp-sptv:not(.tp-v-hidden)+.tp-sptv,.tp-rotv_c>.tp-sptv:not(.tp-v-hidden)+.tp-sptv{margin-top:0}.tp-fldv.tp-fldv-expanded>.tp-fldv_c,.tp-rotv.tp-rotv-expanded .tp-rotv_c{opacity:1;padding-bottom:4px;padding-top:4px;transform:none;overflow:visible;transition:height .2s ease-in-out,opacity .2s linear .2s,padding .2s ease-in-out}.tp-cctxtsv_i,.tp-cswv_sw,.tp-p2dpadv_p,.tp-p2dtxtv_i,.tp-p3dtxtv_i,.tp-txtv_i{background-color:var(--input-background-color);border-radius:2px;box-sizing:border-box;color:var(--input-foreground-color);font-family:inherit;height:var(--unit-size);line-height:var(--unit-size);min-width:0;width:100%}.tp-cctxtsv_i:hover,.tp-cswv_sw:hover,.tp-p2dpadv_p:hover,.tp-p2dtxtv_i:hover,.tp-p3dtxtv_i:hover,.tp-txtv_i:hover{background-color:var(--input-background-color-hover)}.tp-cctxtsv_i:focus,.tp-cswv_sw:focus,.tp-p2dpadv_p:focus,.tp-p2dtxtv_i:focus,.tp-p3dtxtv_i:focus,.tp-txtv_i:focus{background-color:var(--input-background-color-focus)}.tp-cctxtsv_i:active,.tp-cswv_sw:active,.tp-p2dpadv_p:active,.tp-p2dtxtv_i:active,.tp-p3dtxtv_i:active,.tp-txtv_i:active{background-color:var(--input-background-color-active)}.tp-grlv_g,.tp-sglv_i,.tp-mllv_i{background-color:var(--monitor-background-color);border-radius:2px;box-sizing:border-box;color:var(--monitor-foreground-color);height:var(--unit-size);width:100%}.tp-btnv{padding:0 4px}.tp-btnv_b{width:100%}.tp-ckbv_l{display:block;position:relative}.tp-ckbv_i{left:0;opacity:0;position:absolute;top:0}.tp-ckbv_m{background-color:var(--input-background-color);border-radius:2px;cursor:pointer;display:block;height:var(--unit-size);position:relative;width:var(--unit-size)}.tp-ckbv_m::before{background-color:var(--input-foreground-color);border-radius:2px;bottom:4px;content:\\'\\';display:block;left:4px;opacity:0;position:absolute;right:4px;top:4px}.tp-ckbv_i:hover+.tp-ckbv_m{background-color:var(--input-background-color-hover)}.tp-ckbv_i:focus+.tp-ckbv_m{background-color:var(--input-background-color-focus)}.tp-ckbv_i:active+.tp-ckbv_m{background-color:var(--input-background-color-active)}.tp-ckbv_i:checked+.tp-ckbv_m::before{opacity:1}.tp-cctxtsv{display:flex;width:100%}.tp-cctxtsv_m{margin-right:4px;position:relative}.tp-cctxtsv_ms{border-radius:2px;color:var(--label-foreground-color);cursor:pointer;height:var(--unit-size);line-height:var(--unit-size);padding:0 18px 0 4px}.tp-cctxtsv_ms:hover{background-color:var(--input-background-color-hover)}.tp-cctxtsv_ms:focus{background-color:var(--input-background-color-focus)}.tp-cctxtsv_ms:active{background-color:var(--input-background-color-active)}.tp-cctxtsv_mm{border-color:var(--label-foreground-color) transparent transparent;border-style:solid;border-width:3px;box-sizing:border-box;height:6px;pointer-events:none;width:6px;bottom:0;margin:auto;position:absolute;right:6px;top:3px}.tp-cctxtsv_w{display:flex;flex:1}.tp-cctxtsv_i{border-radius:0;flex:1;padding:0 4px}.tp-cctxtsv_i:first-child{border-bottom-left-radius:2px;border-top-left-radius:2px}.tp-cctxtsv_i:last-child{border-bottom-right-radius:2px;border-top-right-radius:2px}.tp-cctxtsv_i+.tp-cctxtsv_i{margin-left:2px}.tp-clpv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);display:none;padding:4px;position:relative;visibility:hidden;z-index:1000}.tp-clpv.tp-clpv-expanded{display:block;visibility:visible}.tp-clpv_h,.tp-clpv_ap{margin-left:6px;margin-right:6px}.tp-clpv_h{margin-top:4px}.tp-clpv_rgb{display:flex;margin-top:4px;width:100%}.tp-clpv_a{display:flex;margin-top:4px;padding-top:8px;position:relative}.tp-clpv_a:before{background-color:var(--separator-color);content:\\'\\';height:4px;left:-4px;position:absolute;right:-4px;top:0}.tp-clpv_ap{align-items:center;display:flex;flex:3}.tp-clpv_at{flex:1;margin-left:4px}.tp-svpv{border-radius:2px;outline:none;overflow:hidden;position:relative}.tp-svpv_c{cursor:crosshair;display:block;height:80px;width:100%}.tp-svpv_m{border-radius:100%;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;filter:drop-shadow(0 0 1px rgba(0,0,0,0.3));height:12px;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;width:12px}.tp-svpv:focus .tp-svpv_m{border-color:#fff}.tp-hplv{cursor:pointer;height:var(--unit-size);outline:none;position:relative}.tp-hplv_c{background-image:url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAAABCAYAAABubagXAAAAQ0lEQVQoU2P8z8Dwn0GCgQEDi2OK/RBgYHjBgIpfovFh8j8YBIgzFGQxuqEgPhaDOT5gOhPkdCxOZeBg+IDFZZiGAgCaSSMYtcRHLgAAAABJRU5ErkJggg==);background-position:left top;background-repeat:no-repeat;background-size:100% 100%;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;position:absolute;top:50%;width:100%}.tp-hplv_m{border-radius:2px;border:rgba(255,255,255,0.75) solid 2px;box-shadow:0 0 2px rgba(0,0,0,0.1);box-sizing:border-box;height:12px;left:50%;margin-left:-6px;margin-top:-6px;pointer-events:none;position:absolute;top:50%;width:12px}.tp-hplv:focus .tp-hplv_m{border-color:#fff}.tp-aplv{cursor:pointer;height:var(--unit-size);outline:none;position:relative;width:100%}.tp-aplv_b{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:4px 4px;background-position:0 0,2px 2px;border-radius:2px;display:block;height:4px;left:0;margin-top:-2px;overflow:hidden;position:absolute;top:50%;width:100%}.tp-aplv_c{bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv_m{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:12px 12px;background-position:0 0,6px 6px;border-radius:2px;box-shadow:0 0 2px rgba(0,0,0,0.1);height:12px;left:50%;margin-left:-6px;margin-top:-6px;overflow:hidden;pointer-events:none;position:absolute;top:50%;width:12px}.tp-aplv_p{border-radius:2px;border:rgba(255,255,255,0.75) solid 2px;box-sizing:border-box;bottom:0;left:0;position:absolute;right:0;top:0}.tp-aplv:focus .tp-aplv_p{border-color:#fff}.tp-cswv{background-color:#fff;background-image:linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%),linear-gradient(to top right, #ddd 25%, transparent 25%, transparent 75%, #ddd 75%);background-size:10px 10px;background-position:0 0,5px 5px;border-radius:2px}.tp-cswv_b{-webkit-appearance:none;-moz-appearance:none;appearance:none;background-color:transparent;border-width:0;cursor:pointer;display:block;height:var(--unit-size);left:0;margin:0;outline:none;padding:0;position:absolute;top:0;width:var(--unit-size)}.tp-cswv_b:focus::after{border:rgba(255,255,255,0.75) solid 2px;border-radius:2px;bottom:0;content:\\'\\';display:block;left:0;position:absolute;right:0;top:0}.tp-cswv_p{left:-4px;position:absolute;right:-4px;top:var(--unit-size)}.tp-cswtxtv{display:flex;position:relative}.tp-cswtxtv_s{flex-grow:0;flex-shrink:0;width:var(--unit-size)}.tp-cswtxtv_t{flex:1;margin-left:4px}.tp-dfwv{position:absolute;top:8px;right:8px;width:256px}.tp-fldv.tp-fldv-expanded .tp-fldv_t{transition:border-radius 0s}.tp-fldv_c{border-left:var(--folder-background-color) solid 4px}.tp-fldv_t:hover+.tp-fldv_c{border-left-color:var(--folder-background-color-hover)}.tp-fldv_t:focus+.tp-fldv_c{border-left-color:var(--folder-background-color-focus)}.tp-fldv_t:active+.tp-fldv_c{border-left-color:var(--folder-background-color-active)}.tp-fldv_c>.tp-fldv{margin-left:4px}.tp-fldv_c>.tp-fldv>.tp-fldv_t{border-top-left-radius:2px;border-bottom-left-radius:2px}.tp-fldv_c>.tp-fldv.tp-fldv-expanded>.tp-fldv_t{border-bottom-left-radius:0}.tp-fldv_c .tp-fldv>.tp-fldv_c{border-bottom-left-radius:2px}.tp-grlv{position:relative}.tp-grlv_g{display:block;height:calc(var(--unit-size) * 3)}.tp-grlv_g polyline{fill:none;stroke:var(--monitor-foreground-color);stroke-linejoin:round}.tp-grlv_t{color:var(--monitor-foreground-color);font-size:0.9em;left:0;pointer-events:none;position:absolute;text-indent:4px;top:0;visibility:hidden}.tp-grlv_t.tp-grlv_t-valid{visibility:visible}.tp-grlv_t::before{background-color:var(--monitor-foreground-color);border-radius:100%;content:\\'\\';display:block;height:4px;left:-2px;position:absolute;top:-2px;width:4px}.tp-lblv{align-items:center;display:flex;line-height:1.3;padding-left:4px;padding-right:4px}.tp-lblv_l{color:var(--label-foreground-color);flex:1;-webkit-hyphens:auto;-ms-hyphens:auto;hyphens:auto;overflow:hidden;padding-left:4px;padding-right:16px}.tp-lblv_v{align-self:flex-start;flex-grow:0;flex-shrink:0;width:160px}.tp-lstv{position:relative}.tp-lstv_s{padding:0 18px 0 4px;width:100%}.tp-lstv_m{border-color:var(--button-foreground-color) transparent transparent;border-style:solid;border-width:3px;box-sizing:border-box;height:6px;pointer-events:none;width:6px;bottom:0;margin:auto;position:absolute;right:6px;top:3px}.tp-sglv_i{padding:0 4px}.tp-mllv_i{display:block;height:calc(var(--unit-size) * 3);line-height:var(--unit-size);padding:0 4px;resize:none;white-space:pre}.tp-p2dpadv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);display:none;padding:4px 4px 4px calc(4px * 2 + var(--unit-size));position:relative;visibility:hidden;z-index:1000}.tp-p2dpadv.tp-p2dpadv-expanded{display:block;visibility:visible}.tp-p2dpadv_p{cursor:crosshair;height:0;overflow:hidden;padding-bottom:100%;position:relative}.tp-p2dpadv_g{display:block;height:100%;left:0;pointer-events:none;position:absolute;top:0;width:100%}.tp-p2dpadv_ax{stroke:var(--input-guide-color)}.tp-p2dpadv_l{stroke:var(--input-foreground-color);stroke-linecap:round;stroke-dasharray:1px 3px}.tp-p2dpadv_m{fill:var(--input-foreground-color)}.tp-p2dpadtxtv{display:flex;position:relative}.tp-p2dpadtxtv_b{height:var(--unit-size);position:relative;width:var(--unit-size)}.tp-p2dpadtxtv_b svg{display:block;height:16px;left:50%;margin-left:-8px;margin-top:-8px;position:absolute;top:50%;width:16px}.tp-p2dpadtxtv_p{left:-4px;position:absolute;right:-4px;top:var(--unit-size)}.tp-p2dpadtxtv_t{margin-left:4px}.tp-p2dtxtv{display:flex}.tp-p2dtxtv_w{align-items:center;display:flex}.tp-p2dtxtv_w+.tp-p2dtxtv_w{margin-left:2px}.tp-p2dtxtv_i{padding:0 4px;width:100%}.tp-p2dtxtv_w:nth-child(1) .tp-p2dtxtv_i{border-top-right-radius:0;border-bottom-right-radius:0}.tp-p2dtxtv_w:nth-child(2) .tp-p2dtxtv_i{border-top-left-radius:0;border-bottom-left-radius:0}.tp-p3dtxtv{display:flex}.tp-p3dtxtv_w{align-items:center;display:flex}.tp-p3dtxtv_w+.tp-p3dtxtv_w{margin-left:2px}.tp-p3dtxtv_i{padding:0 4px;width:100%}.tp-p3dtxtv_w:first-child .tp-p3dtxtv_i{border-top-right-radius:0;border-bottom-right-radius:0}.tp-p3dtxtv_w:not(:first-child):not(:last-child) .tp-p3dtxtv_i{border-radius:0}.tp-p3dtxtv_w:last-child .tp-p3dtxtv_i{border-top-left-radius:0;border-bottom-left-radius:0}.tp-rotv{--font-family: var(--tp-font-family, Roboto Mono,Source Code Pro,Menlo,Courier,monospace);--unit-size: var(--tp-unit-size, 20px);--base-background-color: var(--tp-base-background-color, #2f3137);--base-shadow-color: var(--tp-base-shadow-color, rgba(0,0,0,0.2));--button-background-color: var(--tp-button-background-color, #adafb8);--button-background-color-active: var(--tp-button-background-color-active, #d6d7db);--button-background-color-focus: var(--tp-button-background-color-focus, #c8cad0);--button-background-color-hover: var(--tp-button-background-color-hover, #bbbcc4);--button-foreground-color: var(--tp-button-foreground-color, #2f3137);--folder-background-color: var(--tp-folder-background-color, rgba(200,202,208,0.1));--folder-background-color-active: var(--tp-folder-background-color-active, rgba(200,202,208,0.25));--folder-background-color-focus: var(--tp-folder-background-color-focus, rgba(200,202,208,0.2));--folder-background-color-hover: var(--tp-folder-background-color-hover, rgba(200,202,208,0.15));--folder-foreground-color: var(--tp-folder-foreground-color, #c8cad0);--input-background-color: var(--tp-input-background-color, rgba(200,202,208,0.1));--input-background-color-active: var(--tp-input-background-color-active, rgba(200,202,208,0.25));--input-background-color-focus: var(--tp-input-background-color-focus, rgba(200,202,208,0.2));--input-background-color-hover: var(--tp-input-background-color-hover, rgba(200,202,208,0.15));--input-foreground-color: var(--tp-input-foreground-color, #c8cad0);--input-guide-color: var(--tp-input-guide-color, rgba(47,49,55,0.5));--label-foreground-color: var(--tp-label-foreground-color, rgba(200,202,208,0.7));--monitor-background-color: var(--tp-monitor-background-color, #26272c);--monitor-foreground-color: var(--tp-monitor-foreground-color, rgba(200,202,208,0.7));--separator-color: var(--tp-separator-color, #26272c)}.tp-rotv{background-color:var(--base-background-color);border-radius:6px;box-shadow:0 2px 4px var(--base-shadow-color);font-family:var(--font-family);font-size:11px;font-weight:500;line-height:1;text-align:left}.tp-rotv_t{border-bottom-left-radius:6px;border-bottom-right-radius:6px;border-top-left-radius:6px;border-top-right-radius:6px}.tp-rotv.tp-rotv-expanded .tp-rotv_t{border-bottom-left-radius:0;border-bottom-right-radius:0}.tp-rotv_m{transition:none}.tp-rotv_c>.tp-fldv:last-child>.tp-fldv_c{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.tp-rotv_c>.tp-fldv:last-child:not(.tp-fldv-expanded)>.tp-fldv_t{border-bottom-left-radius:6px;border-bottom-right-radius:6px}.tp-rotv_c>.tp-fldv:first-child>.tp-fldv_t{border-top-left-radius:6px;border-top-right-radius:6px}.tp-rotv.tp-v-hidden,.tp-rotv .tp-v-hidden{display:none}.tp-sptv_r{background-color:var(--separator-color);border-width:0;display:block;height:4px;margin:0;width:100%}.tp-sldv_o{box-sizing:border-box;cursor:pointer;height:var(--unit-size);margin:0 6px;outline:none;position:relative}.tp-sldv_o::before{background-color:var(--input-background-color);border-radius:1px;bottom:0;content:\\'\\';display:block;height:2px;left:0;margin:auto;position:absolute;right:0;top:0}.tp-sldv_i{height:100%;left:0;position:absolute;top:0}.tp-sldv_i::before{background-color:var(--button-background-color);border-radius:2px;bottom:0;content:\\'\\';display:block;height:12px;margin:auto;position:absolute;right:-6px;top:0;width:12px}.tp-sldv_o:hover .tp-sldv_i::before{background-color:var(--button-background-color-hover)}.tp-sldv_o:focus .tp-sldv_i::before{background-color:var(--button-background-color-focus)}.tp-sldv_o:active .tp-sldv_i::before{background-color:var(--button-background-color-active)}.tp-sldtxtv{display:flex}.tp-sldtxtv_s{flex:2}.tp-sldtxtv_t{flex:1;margin-left:4px}.tp-txtv_i{padding:0 4px}');\n        getAllPlugins().forEach(function (plugin) {\n            if (plugin.css) {\n                embedStyle(doc, \"plugin-\" + plugin.id, plugin.css);\n            }\n        });\n    }\n    var Tweakpane = /** @class */ (function (_super) {\n        __extends(Tweakpane, _super);\n        function Tweakpane(opt_config) {\n            var _a;\n            var _this = this;\n            var config = opt_config || {};\n            var doc = (_a = config.document) !== null && _a !== void 0 ? _a : getWindowDocument();\n            var rootController = new RootController(doc, {\n                expanded: config.expanded,\n                blade: new Blade(),\n                title: config.title,\n            });\n            _this = _super.call(this, rootController) || this;\n            _this.containerElem_ = config.container || createDefaultWrapperElement(doc);\n            _this.containerElem_.appendChild(_this.element);\n            _this.doc_ = doc;\n            _this.usesDefaultWrapper_ = !config.container;\n            embedDefaultStyleIfNeeded(_this.document);\n            return _this;\n        }\n        Object.defineProperty(Tweakpane.prototype, \"document\", {\n            get: function () {\n                if (!this.doc_) {\n                    throw TpError.alreadyDisposed();\n                }\n                return this.doc_;\n            },\n            enumerable: false,\n            configurable: true\n        });\n        Tweakpane.prototype.dispose = function () {\n            var containerElem = this.containerElem_;\n            if (!containerElem) {\n                throw TpError.alreadyDisposed();\n            }\n            if (this.usesDefaultWrapper_) {\n                var parentElem = containerElem.parentElement;\n                if (parentElem) {\n                    parentElem.removeChild(containerElem);\n                }\n            }\n            this.containerElem_ = null;\n            this.doc_ = null;\n            _super.prototype.dispose.call(this);\n        };\n        return Tweakpane;\n    }(RootApi));\n    function registerDefaultPlugins() {\n        [\n            Point2dInputPlugin,\n            Point3dInputPlugin,\n            StringInputPlugin,\n            NumberInputPlugin,\n            StringColorInputPlugin,\n            ObjectColorInputPlugin,\n            NumberColorInputPlugin,\n            BooleanInputPlugin,\n        ].forEach(function (p) {\n            RootApi.registerPlugin({\n                type: 'input',\n                plugin: p,\n            });\n        });\n        [BooleanMonitorPlugin, StringMonitorPlugin, NumberMonitorPlugin].forEach(function (p) {\n            RootApi.registerPlugin({\n                type: 'monitor',\n                plugin: p,\n            });\n        });\n    }\n    registerDefaultPlugins();\n\n    return Tweakpane;\n\n})));\n","export let gradParams = {\n    gradCenter: {x: 0.37, y: 0.37},\n    gradRadius: 0.8,\n    gradMiddlePoint: 0.5,\n    gradColor1: {r: 186, g: 0, b: 250},\n    gradColor2: {r: 20, g: 110, b: 250},\n    gradColor3: {r: 0, g: 251, b: 235},\n    gradPreview: false,\n}\n\nexport function createGradControls(paneFolder, params) {\n    paneFolder.addInput(params, 'gradCenter', {\n        x: {min: -1, max: 1, step: 0.01},\n        y: {min: -1, max: 1, step: 0.01}\n    })\n    paneFolder.addInput(params, 'gradRadius', {min: 0, max: 2, step: 0.01})\n    paneFolder.addInput(params, 'gradMiddlePoint', {min: 0, max: 1, step: 0.01})\n    paneFolder.addInput(params, 'gradColor1')\n    paneFolder.addInput(params, 'gradColor2')\n    paneFolder.addInput(params, 'gradColor3')\n    paneFolder.addInput(params, 'gradPreview')\n}\n\nlet rgbFromObject = (obj) => `rgb(${obj.r}, ${obj.g}, ${obj.b})`\n\nexport function getActualGradient(canvas, params) {\n    let cw =  canvas.width\n    let ch =  canvas.height\n    let gradCX = (0.5 + params.gradCenter.x) * cw\n    let gradCY = (0.5 + params.gradCenter.y) * ch\n\n    let gradient = canvas.getContext('2d').createRadialGradient(gradCX, gradCY, 0, gradCX, gradCY, params.gradRadius * Math.max(cw, ch))\n\n    let color1 = rgbFromObject(params.gradColor1)\n    let color2 = rgbFromObject(params.gradColor2)\n    let color3 = rgbFromObject(params.gradColor3)\n\n    gradient.addColorStop(0, color1)\n    gradient.addColorStop(params.gradMiddlePoint, color2)\n    gradient.addColorStop(1, color3)\n\n    return gradient\n}\n","let iter = (data) => {\n    if (typeof data !== 'string') {\n        data = JSON.stringify(data);\n    }\n    data = JSON.parse(data)\n\n    Object.keys(data).forEach(key => {\n        if (data[key] !== null && typeof data[key] === 'object') {\n            data[key] = iter(data[key])\n        }\n\n        if (typeof data[key] === 'string' && !isNaN(data[key]) || typeof data[key] === 'number') {\n            let num = parseFloat(data[key])\n            num = Number(num.toFixed(4))\n            data[key] = num\n        }\n    })\n\n    return data\n}\n\nexport default (data) => {\n    data = JSON.stringify(iter(data))\n    console.log(data)\n    return data\n}"],"names":["$parcel$global","globalThis","self","window","global","$parcel$export","e","n","v","Object","defineProperty","get","enumerable","$parcel$modules","$parcel$bundles","parcelRequire","name","wrapper","module","require","err","Error","code","register","id","exports","registerBundle","fn","parcelRequireName","factory","$b2ff317757afa075d36664e79d83aecd$exports","Tweakpane","extendStatics","d","b","setPrototypeOf","__proto__","Array","p","prototype","hasOwnProperty","call","__extends","TypeError","String","__","this","constructor","create","__assign","assign","t","s","i","arguments","length","apply","__spreadArrays","il","r","k","a","j","jl","Plugins","inputs","monitors","PREFIX","ClassName","viewName","opt_elementName","opt_modifier","join","className","LabeledView","doc","config","label","elem_","createElement","classList","add","labelElem","appendChild","frag","createDocumentFragment","split","map","line","createTextNode","forEach","lineNode","index","createLabelNode","viewElem","view","element","configurable","className$1","setUpBladeView","model","elem","emitter","on","ev","propertyName","hiddenClass","undefined","hidden","remove","pos","positions","onDispose","parentElement","removeChild","disposeElement","InputBindingController","binding","controller","blade","MonitorBindingController","_this","dispose","isEmpty","value","Emitter","observers_","eventName","handler","observers","push","off","filter","observer","emit","event","Button","title","click","sender","className$2","ButtonView","button","buttonElem","textContent","buttonElement","ButtonController","onButtonClick_","bind","addEventListener","Disposable","disposed_","Blade","onDispose_","positions_","hidden_","disposable_","set","a1","a2","deepEqualsArray","disposed","SVG_NS","forceReflow","offsetHeight","supportsTouch","ontouchstart","getGlobalObject","Function","getCanvasContext","canvasElement","getContext","ICON_ID_TO_INNER_HTML_MAP","p2dpad","findNextTarget","relatedTarget","explicitOriginalTarget","List","items_","item","opt_index","splice","indexOf","BladeRack","onItemFolderFold_","onListItemLayout_","onSubitemLayout_","onSubitemFolderFold_","onSubitemInputChange_","onSubitemMonitorUpdate_","onItemInputChange_","onListAdd_","onListItemDispose_","onListRemove_","onItemMonitorUpdate_","bcList_","items","bc","find","controllerClass","reduce","results","FolderController","bladeRack","bladeController","folder","_","ibc","bcs","findInputBindingController","bindingController","mbc","findMonitorBindingController","fc","f","findFolderController","folderController","Folder","expanded","expanded_","expandedHeight_","temporaryExpanded_","shouldFixHeight_","expandedHeight","shouldFixHeight","_a","temporaryExpanded","styleExpanded","FolderView","onFolderChange_","folder_","className_","titleElem","hidesTitle","style","display","titleElement","markElem","containerElem","containerElement","applyModel_","expandedClass","height","styleHeight","onContainerTransitionEnd_","onFolderBeforeChange_","onTitleClick_","onRackAdd_","onRackItemLayout_","onRackRemove_","rack","doc_","callback","clientHeight","transition","applyRackChange_","visibleItems","firstVisibleItem","lastVisibleItem","ps","insertBefore","children","className$3","SeparatorView","hrElem","SeparatorController","ButtonApi","buttonController","TpEvent","target","TpChangeEvent","_super","presetKey","TpUpdateEvent","TpFoldEvent","InputBindingApi","onBindingChange_","emitter_","bh","refresh","read","CREATE_MESSAGE_MAP","alreadydisposed","invalidparams","context","nomatchingcontroller","key","notbindable","propertynotfound","shouldneverhappen","TpError","message","type","stack","alreadyDisposed","notBindable","propertyNotFound","shouldNeverHappen","InputBinding","onValueChange_","reader","writer","targetValue","rawValue","write_","Value","initialValue","constraint_","constraint","equals_","equals","v1","v2","rawValue_","constrainedValue","constrain","createInputBindingController","document","params","result","plugin","args","accept","valueArgs","createController","MonitorBindingApi","onBindingUpdate_","Constants","monitor","defaultInterval","defaultLineCount","fillBuffer","buffer","bufferSize","initializeBuffer","MonitorBinding","onTick_","reader_","ticker","disposable","newValue","newBuffer","slice","createTrimmedBuffer","createPushedBuffer","IntervalTicker","interval","id_","win","defaultView","setInterval","clearInterval","ManualTicker","tick","createMonitorBindingController","_b","defaultBufferSize","createController$1","SeparatorApi","BindingTarget","obj","opt_id","obj_","key_","presetKey_","isBindable","write","writeProperty","valueObj","createBindingTarget","RootApi","registerPlugin","unshift","importPreset","preset","targets","importPresetJson","exportPreset","exportPresetJson","FolderApi","onRackInputChange_","onRackItemFold_","onRackMonitorUpdate_","addInput","object","opt_params","addMonitor","addFolder","addButton","addSeparator","bapi","fapi","RootController","CompositeConstraint","constraints","c","findConstraint","constraintClass","tmpResult","sc","ListConstraint","options","opts","boolToString","boolFromUnknown","BooleanFormatter","equalsPrimitive","writePrimitive","StepConstraint","step","Math","round","mapRange","start1","end1","start2","end2","getDecimalDigits","toFixed","replace","constrainRange","min","max","loopRange","createListConstraint","convert","isArray","text","textToValueMap","keys","concat","normalizeInputParamsOptions","findListItems","getSuitableDecimalDigits","getBaseStep","findStep","className$4","ListView","stringifyValue_","stringifyValue","selectElem","optionElem","dataset","selectElement","update","ListController","onSelectChange_","listItems_","listItems","optElem","currentTarget","selectedOptions","itemIndex","Number","className$5","CheckboxView","inputElem","inputElement","checked","CheckboxController","onInputChange_","BooleanInputPlugin","_args","lc","className$6","TextView","formatter_","formatter","TextController","parser_","parser","parsedValue","className$7","ColorSwatchTextView","swatchElem","swatchView_","swatchView","textElem","textView","PickedColor","mode_","mode","parseNumber","num","parseFloat","isNaN","numberFromUnknown","pv","numberToString","createNumberFormatter","digits","innerFormatter","formatPercentage","rgbToHsl","g","rp","gp","bp","cmax","cmin","h","l","hslToRgb","_c","_d","_e","_f","hp","sp","lp","abs","x","m","rgbToHsv","hsvToRgb","vp","removeAlphaComponent","comps","MODE_CONVERTER_MAP","hsl","hsv","rgb","CONSTRAINT_MAP","isRgbColorComponent","Color","comps_","black","fromObject","toRgbaObject","color","isRgbColorObject","isRgbaColorObject","isColorObject","comps1","comps2","getComponents","opt_mode","components","fromMode","toMode","alpha","rgbComps","parseCssNumberOrPercentage","maxValue","match","ANGLE_TO_DEG_MAP","deg","angle","grad","rad","PI","turn","parseCssNumberOrAngle","unit","NOTATION_TO_PARSER_MAP","func.rgb","func.rgba","func.hsl","func.hsla","hex.rgb","mRrggbb","parseInt","mRgb","hex.rgba","getColorNotation","notation","subparser","CompositeColorParser","hasAlphaComponent","colorFromString","cv","zerofill","comp","hex","floor","toString","colorToHexRgbString","colorToHexRgbaString","rgbaComps","hexes","colorToFunctionalRgbString","colorToFunctionalRgbaString","aFormatter","rgbFormatter","NOTATION_TO_STRINGIFIER_MAP","formatters","getColorStringifier","className$8","ColorSwatchView","swatchElem_","pickerElem","pickerView_","pickerView","backgroundColor","Foldable","getStepForKey","baseStep","altKey","shiftKey","upKey","downKey","getVerticalStepKeys","keyCode","getHorizontalStepKeys","isArrowKey","isVerticalArrowKey","NumberTextController","onInputKeyDown_","baseStep_","className$9","ColorPickerView","alphaViews_","onFoldableChange_","pickedColor","foldable","hsvElem","svElem","svPaletteView_","svPaletteView","hElem","hPaletteView_","hPaletteView","rgbElem","compTextsView_","componentTextsView","alphaViews","palette","aElem","apElem","atElem","elems","inputElements","computeOffset","ownerDocument","rect","getBoundingClientRect","pageX","scrollX","left","pageY","scrollY","top","PointerHandler","onDocumentMouseMove_","onDocumentMouseUp_","onMouseDown_","onTouchMove_","onTouchStart_","pressed_","computePosition_","offsetX","offsetY","bounds","width","y","preventDefault","focus","data","touch","targetTouches","clientX","clientY","getBaseStepForColor","forAlpha","className$a","APaletteView","tabIndex","barElem","colorElem","colorElem_","markerElem","markerElem_","previewElem","previewElem_","leftColor","rightColor","gradientComps","background","APaletteController","onKeyDown_","onPointerDown_","onPointerMove_","onPointerUp_","ptHandler_","handlePointerEvent_","className$b","FORMATTER","ColorComponentTextsView","modeElem","modeElem_","createModeSelectElement","modeSelectElement","modeMarkerElem","wrapperElem","inputElems","inputElems_","ColorComponentTextsController","onModeSelectChange_","findIndexOfInputElem_","updateComponent_","newComps","compIndex","className$c","HPaletteView","HPaletteController","hue","className$d","SvPaletteView","canvasElem","ctx","hsvComps","imgData","getImageData","iy","ix","putImageData","SvPaletteController","saturation","ColorPickerController","primary","secondary","forward","backward","triggerElement","onFocusableElementBlur_","hPaletteIc_","svPaletteIc_","alphaIcs_","supportsAlpha","connect","compTextsIc_","allFocusableElements","nextTarget","contains","ColorSwatchController","onButtonBlur_","pickerIc_","ColorSwatchTextController","swatchIc_","textIc_","colorFromObject","colorToRgbNumber","colorToRgbaNumber","colorFromRgbNumber","colorFromRgbaNumber","writeRgbaColorObject","writeRgbColorObject","shouldSupportAlpha","inputParams","input","NumberColorInputPlugin","colorToNumber","ObjectColorInputPlugin","_params","StringColorInputPlugin","stringify","createColorStringWriter","stringifier","RangeConstraint","minValue","className$e","SliderTextView","sliderElem","sliderView_","sliderView","textView_","className$f","SliderView","minValue_","maxValue_","outerElem","outerElement","innerElem","innerElement","estimateSuitableRange","findRange","SliderController","SliderTextController","sliderIc_","createConstraint$1","createStepConstraint","rc","createRangeConstraint","NumberInputPlugin","Point2d","isObject","toObject","Point2dConstraint","className$g","Point2dPadTextView","padWrapperElem","iconId","createElementNS","innerHTML","padButtonElem_","padElem","padView_","padView","className$h","Point2dPadView","invertsY_","invertsY","padElement","svgElem","svgElem_","xAxisElem","setAttributeNS","yAxisElem","lineElem","lineElem_","px","py","ipy","Point2dPadController","onPadKeyDown_","baseSteps_","baseSteps","className$i","Point2dTextView","formatters_","Point2dTextController","axes","Point2dPadTextController","onPadButtonBlur_","onPadButtonClick_","padIc_","padButtonElement","point2dFromUnknown","writePoint2d","createDimensionConstraint","getSuitableMaxDimensionValue","Point2dInputPlugin","xc","yc","xr","yr","createController$4","yParams","inverted","shouldInvertY","Point3d","z","Point3dConstraint","className$j","Point3dTextView","Point3dTextController","point3dFromUnknown","writePoint3d","createDimensionConstraint$1","getAxis","Point3dInputPlugin","createController$5","stringFromUnknown","formatString","StringInputPlugin","className$k","MultiLogView","onValueUpdate_","textareaElem","lineCount","readOnly","textareaElem_","shouldScroll","scrollTop","scrollHeight","MultiLogController","className$l","SingleLogView","inputElem_","values","lastValue","SingleLogMonitorController","BooleanMonitorPlugin","GraphCursor","index_","className$m","GraphLogView","onCursorChange_","cursor_","cursor","tooltipElem","tooltipElem_","maxIndex","points","tx","ty","GraphLogController","onGraphMouseLeave_","onGraphMouseMove_","graphElement","createFormatter","shouldShowGraph","NumberMonitorPlugin","createTextMonitor","StringMonitorPlugin","multiline","embedStyle","css","querySelector","styleElem","tpStyle","head","embedDefaultStyleIfNeeded","opt_config","rootController","containerElem_","container","body","createDefaultWrapperElement","usesDefaultWrapper_","parentElem","$db8b34dcc26fc2f880d343cec70a5fd0$export$gradParams","gradCenter","gradRadius","gradMiddlePoint","gradColor1","gradColor2","gradColor3","gradPreview","$db8b34dcc26fc2f880d343cec70a5fd0$export$createGradControls","paneFolder","$db8b34dcc26fc2f880d343cec70a5fd0$var$rgbFromObject","$db8b34dcc26fc2f880d343cec70a5fd0$export$getActualGradient","canvas","cw","ch","gradCX","gradCY","gradient","createRadialGradient","color1","color2","color3","addColorStop","$ee63f9329f155a12431bf84d126f6224$var$iter","JSON","parse","console","log"],"version":3,"file":"index.49355232.js.map"}